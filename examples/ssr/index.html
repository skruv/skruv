<!DOCTYPE html><html lang="en-US" class="skruv-css-scope-1654833168"><head><title>Write todos</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>.skruv-css-scope-1654833168 {color: #f1f1f1; background: #0f0f0f;}.skruv-css-scope-1654833168 body {max-width: 40ch; margin: 0 auto;}.skruv-css-scope-1654833168 form {display: flex; align-items: end;}.skruv-css-scope-1654833168 label {flex: 1;}.skruv-css-scope-1654833168 input {width: 100%;}.skruv-css-scope-1654833168 a {color: #9b9b9b;}</style><link rel="icon" href="/icon.svg" type="image/svg+xml" sizes="any"/><meta name="description" content="Skruv todo-list"/></head><body><main><h1>Write todos</h1><form><label>What do you need to do?<input type="text" name="todo"/></label><button>New!</button></form><ol><li>Write todos <a href="#">x</a></li></ol></main><script type="module">var N=Symbol.for("skruvDom"),_="data-event-",H=(e,...i)=>{var r,d,t;return{s:N,t:e.toUpperCase(),...!((r=i[0])!=null&&r[Symbol.asyncIterator])&&((d=i[0])==null?void 0:d.constructor)===Object&&((t=i[0])==null?void 0:t.s)!==N?{a:i[0],c:i.slice(1)}:{a:{},c:i}}},g=new WeakMap,w={},O=(e,i=globalThis.document.documentElement,r=i.parentNode,d=!1)=>{var c,f,h,p;let t=i,s=(r==null?void 0:r.ownerDocument)||t.ownerDocument;if(!r||!s||t&&!r.contains(t))return!1;if(typeof e=="boolean"||e===null||e===void 0)return t&&r.removeChild(t),!0;if(((typeof e=="string"||typeof e=="number")&&(t==null?void 0:t.nodeName)!=="#text"||(e==null?void 0:e.t)&&(t==null?void 0:t.nodeName)!==(e==null?void 0:e.t)||((c=t==null?void 0:t.getAttribute)==null?void 0:c.call(t,"data-skruv-key"))&&((f=t==null?void 0:t.getAttribute)==null?void 0:f.call(t,"data-skruv-key"))!==((h=e==null?void 0:e.a)==null?void 0:h["data-skruv-key"]))&&(typeof e=="string"||typeof e=="number"?t=(w.text||(w.text=s.createTextNode(""))).cloneNode():d||e.t==="svg"?t=(w[e.t]||(w[e.t]=s.createElementNS("http://www.w3.org/2000/svg",e.t))).cloneNode():t=(w[e.t]||(w[e.t]=s.createElement(e.t))).cloneNode(),i?r.replaceChild(t,i):r.appendChild(t),(p=e==null?void 0:e.a)!=null&&p.oncreate&&e.a.oncreate(t)),typeof e=="string"||typeof e=="number")return""+t.data!=""+e&&(t.data=e),!0;e._r&&(e._r._r=()=>O(e,t,r,d));for(let o in e.a)if(o[0]==="o"&&o[1]==="n"){let m=o.slice(2);!t[_+o]||""+t[_+o]!=""+e.a[o]?(t[_+o]&&t.removeEventListener(m,t[_+o]),t.addEventListener(m,e.a[o]),t[_+o]=e.a[o]):e.a[o]||t.removeEventListener(m,t[_+o])}else e.a[o]!==t.getAttribute(o)&&((typeof e.a[o]=="boolean"&&(e.t==="INPUT"&&o==="checked"||e.t==="OPTION"&&o==="selected")||typeof e.a[o]=="object")&&(t[o]=e.a[o]),e.a[o]?t.setAttribute(o,""+e.a[o]):t.removeAttribute(o));let l=e.c.flat(1/0);if(!l.length&&t.childNodes.length)return e.a["data-skruv-wait-for-not-empty"]||t.replaceChildren(),!0;if(t.childNodes.length>l.length)for(let o=l.length;o<t.childNodes.length;o++)t.removeChild(t.childNodes[o]);for(let o=0;o<l.length;o++){if(g.has(l[o])){let m=g.get(l[o]);m!==t.childNodes[o]&&(m===t.childNodes[o+1]?t.removeChild(t.childNodes[o]):g.has(l[o+1])&&g.get(l[o+1])===t.childNodes[o]?t.insertBefore(m,t.childNodes[o]):t.childNodes[o]?t.replaceChild(m,t.childNodes[o]):t.appendChild(m),g.set(l[o],t.childNodes[o]));continue}O(l[o],t.childNodes[o]||!1,t,d)}return g.set(e,t),!0},D=new Proxy({},{get:(e,i)=>(...r)=>H(i,...r)});var C=()=>{},v=new Promise(e=>{C=e}),P=new Map,J=e=>{let i=0;if(e.length===0)return i.toString();for(let r=0;r<e.length;r++)i=(i<<5)-i+e.charCodeAt(r),i|=0;return i.toString()},G=(e,...i)=>{var $;let r=e.reduce((n,y,a)=>{var u;return n.push(y),n.push(((u=i==null?void 0:i[a])==null?void 0:u.toString())||""),n},[]).join(""),d=/^\[.*?(?:(["'])(?:.|\\\1)*\1.*)*\]/,t=/([([,]|:scope\b)/,s=/^:scope\b/;function l(n,y){let a=n.search(t);if(a===-1)return{selector:`${y} ${n}`,rest:""};if(n[a]===",")return{selector:`${y} ${n.substring(0,a)}`,rest:n.substring(a+1)};let u=!0,R=!1;a=n.search(/\S/);let j=0;e:for(;a<n.length;++a){let E=n[a];switch(E){case"[":{let M=d.exec(n.substring(a));a+=(M?M[0].length:1)-1;continue}case"(":++j;continue;case":":if(u)if(s.test(n.substring(a))){if(j)return null}else continue;else continue;n=n.substring(0,a)+y+n.substring(a+6),a+=y.length,R=!0,--a;continue;case")":j&&--j;continue}if(!j)switch(E){case",":break e;case" ":case">":case"~":case"+":if(!u)continue;u=!1}}return{selector:(R?"":`${y} `)+n.substring(0,a),rest:n.substring(a+1)}}function c(n,y){let a=[];for(;n;){let u=l(n,y);if(u===null)return":not(*)";a.push(u.selector),n=u.rest}return a.join(", ")}function f(n,y){if(n instanceof CSSMediaRule){let a=n.cssRules.length;for(let u=0;u<a;++u)f(n.cssRules[u],y);return}n instanceof CSSStyleRule&&(n.selectorText=c(n.selectorText,y))}let h=J(r),p=`skruv-css-scope-${h}`,o=`.${p}`;if(P.has(h))return p;let m;if(!(globalThis!=null&&globalThis.CSSOM)&&!(($=globalThis.document)!=null&&$.implementation))throw new Error("No css parser available. Either add CSSOM to globalThis or run in browser.");if(globalThis!=null&&globalThis.CSSOM)m=CSSOM.parse(r);else{let n=globalThis.document.implementation.createHTMLDocument(""),y=n.createElement("style");y.innerText=r,n.body.append(y),m=y.sheet,n.body.removeChild(y)}Array.from((m==null?void 0:m.cssRules)||[]).forEach(n=>f(n,o));let W=Array.from((m==null?void 0:m.cssRules)||[]).map(n=>n.cssText||"").join("");return P.set(h,W),C(),p};async function*I(){for(yield Array.from(P.values()).join("");;)await v,yield Array.from(P.values()).join(""),v=new Promise(e=>{C=e})}var U=(globalThis==null?void 0:globalThis.requestAnimationFrame)||(e=>setTimeout(e,0)),F=e=>{let i=class{constructor(t){this.name=t,this._scheduled=!1,this._skruv_promise=new Promise(s=>{this._skruv_resolve=s})}_resolve(){this._skruv_parent&&this._skruv_parent._resolve&&this._skruv_parent._resolve(),!this._scheduled&&(this._scheduled=!0,U(()=>{this._skruv_resolve(),this._skruv_promise=new Promise(t=>{this._skruv_resolve=t}),this._scheduled=!1}))}set(t,s,l){return s==="_skruv_parent"?(this._skruv_parent=l,!0):(t[s]!==l&&(t[s]=this.recurse(s,l,t)),!0)}get(t,s,l){return s==="getGenerator"?c=>({key:[c,t],[Symbol.asyncIterator]:()=>{let f=!1;return{next:async()=>(f?await this._skruv_promise:f=!0,{done:!1,value:l[c]})}}}):s==="skruv_resolve"?()=>this._resolve():s==="toJSON"?t.constructor===Object?Object.getOwnPropertyNames(t).reduce((c,f)=>{var h;return c[f]=((h=t[f])==null?void 0:h.toJSON)||t[f],c},{}):t.constructor===Array?t.map(c=>(c==null?void 0:c.toJSON)||c):t:s===Symbol.asyncIterator?()=>{let c=!1;return{next:async()=>(c?await this._skruv_promise:c=!0,{done:!1,value:l})}}:t[s]}deleteProperty(t,s){let l=delete t[s];return this._resolve(),l}recurse(t,s,l){var c;if(s&&s.constructor)if(s.constructor===Object&&((c=l==null?void 0:l[t])==null?void 0:c.constructor)===Object){for(let f of Object.getOwnPropertyNames(s))l[t][f]!==s[f]&&(l[t][f]=s[f]);for(let f of Object.getOwnPropertyNames(l[t]).filter(h=>!Object.getOwnPropertyNames(s).includes(h)))delete l[t][f],this._resolve();return l[t]}else if(s.constructor===Object){let f=new this.constructor(`${this.name}.${t}`);s=Object.keys(s).reduce((h,p)=>(h[p]=this.recurse(`${t}.${p}`,s[p]),typeof h[p]=="object"&&h[p]!==null&&(h[p]._skruv_parent=f),h),{}),s=new Proxy(s,f),s._skruv_parent=this,this._resolve()}else if(s.constructor===Array){let f=new this.constructor(`${this.name}.${t}`);s=s.map((h,p)=>{let o=this.recurse(`${t}[${p}]`,h);return typeof o=="object"&&o!==null&&(o._skruv_parent=f),o}),s=new Proxy(s,f),s._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return s}},r=new Proxy(e.constructor===Array?[]:{},new i("root"));return Object.assign(r,e),r};var b=!0,S=new WeakMap,k=()=>{},L=new Promise(e=>{k=()=>e(!0)}),x=new Set,z=(e,i,r,d,t)=>{var s;return b&&!(typeof t=="object"&&"a"in t&&((s=t==null?void 0:t.a)==null?void 0:s["data-skruv-finished"])===!1)&&(x.delete(e),x.size||(b=!1,setTimeout(()=>k(),0))),S.set(e,t),r[i]=t,d._r._r()},T=(e,i,r,d,t=!0)=>{if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null)return e;if(S.has(e))return S.get(e);if(typeof e=="object"&&Symbol.asyncIterator in e||typeof e=="function"&&e.constructor.name==="AsyncGeneratorFunction")return b&&x.add(e),S.set(e,null),(async()=>{for await(let s of typeof e=="function"?e():e)if(!z(e,i,r,d,T(s,i,r,d,!1)))break})(),null;if(typeof e=="object"&&"then"in e&&typeof e.then=="function"||typeof e=="function"&&e.constructor.name==="AsyncFunction")return b&&x.add(e),S.set(e,null),(async()=>z(e,i,r,d,T(await(typeof e=="function"?e():e),i,r,d,!1)))(),null;if(typeof e=="function"){if(typeof i=="string"&&(i[0]==="o"&&i[1]==="n"||i[0]==="_"))return e;let s=T(e(),i,r,d,!1);return S.set(e,s),s}if(typeof e=="object"){let s={_r:{_r:()=>((b&&!x.size||!b)&&(b=!1,setTimeout(()=>k(),0)),!0)}},l=s;Array.isArray(e)&&(s=[],l=d),i==="a"&&(s={},l=d);for(let c in e){let f=T(e[c],c,s,l,!1);(f!==null||e[c]===null)&&(s[c]=f)}return(t&&b&&!x.size||!b)&&(b=!1,setTimeout(()=>k(),0)),s}return e};var{html:q,head:B,title:K,meta:V,link:Q,body:X,main:Y,h1:Z,form:ee,label:te,input:se,button:oe,ol:ie,li:ne,a:re,style:le,script:fe}=D,A=F({todos:["Write todos"]}),ce=G`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex;align-items:end}label{flex:1}input{width:100%}a{color:#9b9b9b}`,ae=T(q({lang:"en-US",class:ce},B(K(A.todos.getGenerator(0)),V({name:"viewport",content:"width=device-width, initial-scale=1"}),le(I),Q({rel:"icon",href:"/icon.svg",type:"image/svg+xml",sizes:"any"}),V({name:"description",content:"Skruv todo-list"})),X(Y(Z(A.todos.getGenerator(0)),ee({onsubmit:e=>{e.preventDefault(),A.todos.unshift(new FormData(e.target).get("todo")),e.target.reset()}},te("What do you need to do?",se({type:"text",name:"todo"})),oe("New!")),async function*(){for await(let e of A)yield ie(e.todos.map((i,r)=>ne(`${i} `,re({href:"#",onclick:d=>{d.preventDefault(),e.todos.splice(r,1)}},"x"))))}),!!globalThis.skruvSSRScript&&fe({type:"module"},globalThis.skruvSSRScript)))),de=async()=>{await L,O(ae),await new Promise(e=>setTimeout(e,0))};de();export{de as doRender};
//# sourceMappingURL=index.min.js.map
</script></body></html>