var C=Symbol.for("skruvDom"),h="data-skruv-key",m=new WeakMap,M=new WeakMap,d=new WeakMap,y={},j=(s,i=globalThis.document.documentElement,o=i.parentNode,g=!1,A=!1)=>{var v,k,w,b,n,x;if(!o)throw new Error("No parent to render to");if(typeof s=="boolean"){i&&o.removeChild(i);return}let p=typeof s=="string"||typeof s=="number";if(A||!i||p&&(i==null?void 0:i.nodeName)!=="#text"||!p&&(i==null?void 0:i.nodeName.toLowerCase())!==s.t.toLowerCase()){let l=i;if(p?i=document.createTextNode(""+s):g||s.t==="svg"?(g=!0,i=(y[s.t]||(y[s.t]=document.createElementNS("http://www.w3.org/2000/svg",s.t))).cloneNode(!1)):i=(y[s.t]||(y[s.t]=document.createElement(s.t))).cloneNode(!1),l?o.replaceChild(i,l):o.appendChild(i),p)return}if(p){i.textContent!=s&&(i.textContent=""+s);return}s._r&&(s._r._r=()=>!i||!o.contains(i)?!1:(j(s,i,o,g),!0));let t=s.c.flat(1/0),e={};if(((v=t[0])==null?void 0:v.constructor)===Object&&((k=t[0])==null?void 0:k.s)!==C){e=t[0],t=t.slice(1);for(let l in e)if(!(l===h||l[0]==="_"))if(l[0]==="o"&&l[1]==="n"){let f=d.get(i);f||(f={},d.set(i,f));let a=l.slice(2);if(!f[l]||""+f[l]!=""+e[l]){if(a==="create"){e[l](i),f[l]=e[l];continue}f[l]&&i.removeEventListener(a,f[l]),i.addEventListener(a,e[l]),f[l]=e[l]}else e[l]||i.removeEventListener(a,f[l])}else e[l]!==i.getAttribute(l)&&((l==="checked"||l==="selected"||l==="value"||typeof e[l]=="object")&&(i[l]=e[l]),e[l]?i.setAttribute(l,""+e[l]):i.removeAttribute(l))}if(!t.length&&i.childNodes.length){if(e["data-skruv-wait-for-not-empty"])return;i.replaceChildren();return}if(i.childNodes.length>t.length)for(let l=t.length;l<i.childNodes.length;l++)i.removeChild(i.childNodes[l]);for(let l=0;l<t.length;l++){let f=!1,a;if(t[l].constructor===Object)if(a=m.get((w=t[l].c[0])==null?void 0:w[h]),a){if(a!==i.childNodes[l]&&(a===i.childNodes[l+1]?i.removeChild(i.childNodes[l]):m.get((x=(n=(b=t[l+1])==null?void 0:b.c)==null?void 0:n[0])==null?void 0:x[h])===i.childNodes[l]?i.insertBefore(a,i.childNodes[l]):i.childNodes[l]?i.replaceChild(a,i.childNodes[l]):i.appendChild(a)),f=t[l].c[0][h]!==M.get(i.childNodes[l]),!f){let E=m.get(i.childNodes[l]);if(E){let _=!0;for(let L in t[l].c[0][h])t[l].c[0][h][L]!==E[L]&&(_=!1);if(_)continue}}}else f=m.has(i.childNodes[l]);j(t[l],i.childNodes[l]||!1,i,g,f)}e[h]&&(m.set(e[h],i),M.set(i,e[h]),m.set(i,{...e[h]}))},K=new Proxy({},{get:(s,i)=>(...o)=>({s:C,t:i,c:o})}),W=(s,...i)=>({s:C,t:s,c:i});export{K as elementFactory,W as h,j as render};
//# sourceMappingURL=index.min.js.map
