<!DOCTYPE html><html lang="en-US" class="skruv-css-scope-1654833168"><head><title>Write todos</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>.skruv-css-scope-1654833168 {color: #f1f1f1; background: #0f0f0f;}.skruv-css-scope-1654833168 body {max-width: 40ch; margin: 0 auto;}.skruv-css-scope-1654833168 form {display: flex; align-items: end;}.skruv-css-scope-1654833168 label {flex: 1;}.skruv-css-scope-1654833168 input {width: 100%;}.skruv-css-scope-1654833168 a {color: #9b9b9b;}</style><link rel="icon" href="/icon.svg" type="image/svg+xml" sizes="any"/><meta name="description" content="Skruv todo-list"/></head><body><main><h1>Write todos</h1><form><label>What do you need to do?<input type="text" name="todo"/></label><button>New!</button></form><ol><li>Write todos <a href="#">x</a></li></ol></main><script type="module">var W=Symbol.for(&quot;skruvDom&quot;),b=&quot;data-skruv-key&quot;,w=new WeakMap,D=new WeakMap,L=new WeakMap,C={},P=(e,t=globalThis.document.documentElement,c=t.parentNode,m=!1,i=!1)=&gt;{var a,d,p,_,y,T,O,n;if(typeof e==&quot;boolean&quot;){t&amp;&amp;c.removeChild(t);return}let o=typeof e==&quot;string&quot;||typeof e==&quot;number&quot;;if(i||!t||o&amp;&amp;(t==null?void 0:t.nodeName)!==&quot;#text&quot;||!o&amp;&amp;(t==null?void 0:t.nodeName.toLowerCase())!==e.t.toLowerCase()){let s=t;if(o?t=document.createTextNode(e):m||e.t===&quot;svg&quot;?(m=!0,t=(C[e.t]||(C[e.t]=document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;,e.t))).cloneNode(!1)):t=(C[e.t]||(C[e.t]=document.createElement(e.t))).cloneNode(!1),s?c.replaceChild(t,s):c.appendChild(t),o)return;(a=e.c[0])!=null&amp;&amp;a.oncreate&amp;&amp;((d=e==null?void 0:e.c[0])==null||d.oncreate(t))}if(o){t.data!=e&amp;&amp;(t.data=e);return}e._r&amp;&amp;(e._r._r=()=&gt;!t||!c.contains(t)?!1:(P(e,t,c,m),!0));let l=e.c.flat(1/0),r={};if(((p=l[0])==null?void 0:p.constructor)===Object&amp;&amp;((_=l[0])==null?void 0:_.s)!==W){r=l[0],l=l.slice(1);for(let s in r)if(!(s===b||s[0]===&quot;_&quot;))if(s[0]===&quot;o&quot;&amp;&amp;s[1]===&quot;n&quot;){let f=L.get(t);f||(f={},L.set(t,f));let h=s.slice(2);!f[s]||&quot;&quot;+f[s]!=&quot;&quot;+r[s]?(f[s]&amp;&amp;t.removeEventListener(h,f[s]),t.addEventListener(h,r[s]),f[s]=r[s]):r[s]||t.removeEventListener(h,f[s])}else r[s]!==t.getAttribute(s)&amp;&amp;((s===&quot;checked&quot;||s===&quot;selected&quot;||s===&quot;value&quot;||typeof r[s]==&quot;object&quot;)&amp;&amp;(t[s]=r[s]),r[s]?t.setAttribute(s,&quot;&quot;+r[s]):t.removeAttribute(s))}if(!l.length&amp;&amp;t.childNodes.length){if(r[&quot;data-skruv-wait-for-not-empty&quot;])return;t.replaceChildren();return}if(t.childNodes.length&gt;l.length)for(let s=l.length;s&lt;t.childNodes.length;s++)t.removeChild(t.childNodes[s]);for(let s=0;s&lt;l.length;s++){let f=!1,h;if(l[s].constructor===Object)if(h=w.get((y=l[s].c[0])==null?void 0:y[b]),h){if(h!==t.childNodes[s]&amp;&amp;(h===t.childNodes[s+1]?t.removeChild(t.childNodes[s]):w.get((n=(O=(T=l[s+1])==null?void 0:T.c)==null?void 0:O[0])==null?void 0:n[b])===t.childNodes[s]?t.insertBefore(h,t.childNodes[s]):t.childNodes[s]?t.replaceChild(h,t.childNodes[s]):t.appendChild(h)),f=l[s].c[0][b]!==D.get(t.childNodes[s]),!f){let k=w.get(t.childNodes[s]),g=!0;for(let M in l[s].c[0][b])l[s].c[0][b][M]!==k[M]&amp;&amp;(g=!1);if(g)continue}}else f=w.has(t.childNodes[s]);P(l[s],t.childNodes[s]||!1,t,m,f)}r[b]&amp;&amp;(w.set(r[b],t),D.set(t,r[b]),w.set(t,{...r[b]}))},v=new Proxy({},{get:(e,t)=&gt;(...c)=&gt;({s:W,t,c})});var E=()=&gt;{},z=new Promise(e=&gt;{E=e}),A=new Map,B=e=&gt;{let t=0;if(e.length===0)return t.toString();for(let c=0;c&lt;e.length;c++)t=(t&lt;&lt;5)-t+e.charCodeAt(c),t|=0;return t.toString()},I=(e,...t)=&gt;{var O;let c=e.reduce((n,s,f)=&gt;{var h;return n.push(s),n.push(((h=t==null?void 0:t[f])==null?void 0:h.toString())||&quot;&quot;),n},[]).join(&quot;&quot;),m=/^\[.*?(?:([&quot;&#39;])(?:.|\\\1)*\1.*)*\]/,i=/([([,]|:scope\b)/,o=/^:scope\b/;function l(n,s){let f=n.search(i);if(f===-1)return{selector:`${s} ${n}`,rest:&quot;&quot;};if(n[f]===&quot;,&quot;)return{selector:`${s} ${n.substring(0,f)}`,rest:n.substring(f+1)};let h=!0,k=!1;f=n.search(/\S/);let g=0;e:for(;f&lt;n.length;++f){let F=n[f];switch(F){case&quot;[&quot;:{let G=m.exec(n.substring(f));f+=(G?G[0].length:1)-1;continue}case&quot;(&quot;:++g;continue;case&quot;:&quot;:if(h)if(o.test(n.substring(f))){if(g)return null}else continue;else continue;n=n.substring(0,f)+s+n.substring(f+6),f+=s.length,k=!0,--f;continue;case&quot;)&quot;:g&amp;&amp;--g;continue}if(!g)switch(F){case&quot;,&quot;:break e;case&quot; &quot;:case&quot;&gt;&quot;:case&quot;~&quot;:case&quot;+&quot;:if(!h)continue;h=!1}}return{selector:(k?&quot;&quot;:`${s} `)+n.substring(0,f),rest:n.substring(f+1)}}function r(n,s){let f=[];for(;n;){let h=l(n,s);if(h===null)return&quot;:not(*)&quot;;f.push(h.selector),n=h.rest}return f.join(&quot;, &quot;)}function a(n,s){if(n instanceof CSSMediaRule){let f=n.cssRules.length;for(let h=0;h&lt;f;++h)a(n.cssRules[h],s);return}n instanceof CSSStyleRule&amp;&amp;(n.selectorText=r(n.selectorText,s))}let d=B(c),p=`skruv-css-scope-${d}`,_=`.${p}`;if(A.has(d))return p;let y;if(!(globalThis!=null&amp;&amp;globalThis.CSSOM)&amp;&amp;!((O=globalThis.document)!=null&amp;&amp;O.implementation))throw new Error(&quot;No css parser available. Either add CSSOM to globalThis or run in browser.&quot;);if(globalThis!=null&amp;&amp;globalThis.CSSOM)y=CSSOM.parse(c);else{let n=globalThis.document.implementation.createHTMLDocument(&quot;&quot;),s=n.createElement(&quot;style&quot;);s.innerText=c,n.body.append(s),y=s.sheet,n.body.removeChild(s)}Array.from((y==null?void 0:y.cssRules)||[]).forEach(n=&gt;a(n,_));let T=Array.from((y==null?void 0:y.cssRules)||[]).map(n=&gt;n.cssText||&quot;&quot;).join(&quot;&quot;);return A.set(d,T),E(),p};async function*V(){for(yield Array.from(A.values()).join(&quot;&quot;);;)await z,yield Array.from(A.values()).join(&quot;&quot;),z=new Promise(e=&gt;{E=e})}var U=(globalThis==null?void 0:globalThis.requestAnimationFrame)||(e=&gt;setTimeout(e,0)),H=e=&gt;{let t=class{constructor(i){this.name=i,this._scheduled=!1,this._skruv_promise=new Promise(o=&gt;{this._skruv_resolve=o})}_resolve(){this._skruv_parent&amp;&amp;this._skruv_parent._resolve&amp;&amp;this._skruv_parent._resolve(),!this._scheduled&amp;&amp;(this._scheduled=!0,U(()=&gt;{this._skruv_resolve(),this._skruv_promise=new Promise(i=&gt;{this._skruv_resolve=i}),this._scheduled=!1}))}set(i,o,l){return o===&quot;_skruv_parent&quot;?(this._skruv_parent=l,!0):(i[o]!==l&amp;&amp;(i[o]=this.recurse(o,l,i)),!0)}get(i,o,l){return o===&quot;getGenerator&quot;?r=&gt;({key:[r,i],[Symbol.asyncIterator]:()=&gt;{let a=!1;return{next:async()=&gt;(a?await this._skruv_promise:a=!0,{done:!1,value:l[r]})}}}):o===&quot;skruv_resolve&quot;?()=&gt;this._resolve():o===&quot;toJSON&quot;?i.constructor===Object?Object.getOwnPropertyNames(i).reduce((r,a)=&gt;{var d;return r[a]=((d=i[a])==null?void 0:d.toJSON)||i[a],r},{}):i.constructor===Array?i.map(r=&gt;(r==null?void 0:r.toJSON)||r):i:o===Symbol.asyncIterator?()=&gt;{let r=!1;return{next:async()=&gt;(r?await this._skruv_promise:r=!0,{done:!1,value:l})}}:i[o]}deleteProperty(i,o){let l=delete i[o];return this._resolve(),l}recurse(i,o,l){var r;if(o&amp;&amp;o.constructor)if(o.constructor===Object&amp;&amp;((r=l==null?void 0:l[i])==null?void 0:r.constructor)===Object){for(let a of Object.getOwnPropertyNames(o))l[i][a]!==o[a]&amp;&amp;(l[i][a]=o[a]);for(let a of Object.getOwnPropertyNames(l[i]).filter(d=&gt;!Object.getOwnPropertyNames(o).includes(d)))delete l[i][a],this._resolve();return l[i]}else if(o.constructor===Object){let a=new this.constructor(`${this.name}.${i}`);o=Object.keys(o).reduce((d,p)=&gt;(d[p]=this.recurse(`${i}.${p}`,o[p]),typeof d[p]==&quot;object&quot;&amp;&amp;d[p]!==null&amp;&amp;(d[p]._skruv_parent=a),d),{}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else if(o.constructor===Array){let a=new this.constructor(`${this.name}.${i}`);o=o.map((d,p)=&gt;{let _=this.recurse(`${i}[${p}]`,d);return typeof _==&quot;object&quot;&amp;&amp;_!==null&amp;&amp;(_._skruv_parent=a),_}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return o}},c=new Proxy(e.constructor===Array?[]:{},new t(&quot;root&quot;));return Object.assign(c,e),c};var u=!0,S=new WeakMap,$=()=&gt;{},K=new Promise(e=&gt;{$=()=&gt;e(!0)}),x=new Set,J=(e,t,c,m,i)=&gt;{var o;return u&amp;&amp;!(typeof i==&quot;object&quot;&amp;&amp;&quot;a&quot;in i&amp;&amp;((o=i==null?void 0:i.a)==null?void 0:o[&quot;data-skruv-finished&quot;])===!1)&amp;&amp;(x.delete(e),x.size||(u=!1,setTimeout(()=&gt;$(),0))),S.set(e,i),c[t]=i,m._r._r()},j=(e,t,c,m,i=!0)=&gt;{if(typeof e==&quot;string&quot;||typeof e==&quot;number&quot;||typeof e==&quot;boolean&quot;||e===null)return e;if(S.has(e))return S.get(e);if(typeof e==&quot;object&quot;&amp;&amp;Symbol.asyncIterator in e||typeof e==&quot;function&quot;&amp;&amp;e.constructor.name===&quot;AsyncGeneratorFunction&quot;)return u&amp;&amp;x.add(e),S.set(e,null),(async()=&gt;{for await(let o of typeof e==&quot;function&quot;?e():e)if(!J(e,t,c,m,j(o,t,c,m,!1)))break})(),null;if(typeof e==&quot;object&quot;&amp;&amp;&quot;then&quot;in e&amp;&amp;typeof e.then==&quot;function&quot;||typeof e==&quot;function&quot;&amp;&amp;e.constructor.name===&quot;AsyncFunction&quot;)return u&amp;&amp;x.add(e),S.set(e,null),(async()=&gt;J(e,t,c,m,j(await(typeof e==&quot;function&quot;?e():e),t,c,m,!1)))(),null;if(typeof e==&quot;function&quot;){if(typeof t==&quot;string&quot;&amp;&amp;(t[0]===&quot;o&quot;&amp;&amp;t[1]===&quot;n&quot;||t[0]===&quot;_&quot;))return e;let o=j(e(),t,c,m,!1);return S.set(e,o),o}if(typeof e==&quot;object&quot;){let o={_r:{_r:()=&gt;((u&amp;&amp;!x.size||!u)&amp;&amp;(u=!1,setTimeout(()=&gt;$(),0)),!0)}},l=o;Array.isArray(e)&amp;&amp;(o=[],l=m),t===&quot;a&quot;&amp;&amp;(o={},l=m);for(let r in e){let a=j(e[r],r,o,l,!1);(a!==null||e[r]===null)&amp;&amp;(o[r]=a)}return(i&amp;&amp;u&amp;&amp;!x.size||!u)&amp;&amp;(u=!1,setTimeout(()=&gt;$(),0)),o}return e};var{html:Q,head:X,title:Y,meta:q,link:Z,body:N,main:ee,h1:te,form:se,label:oe,input:ie,button:ne,ol:le,li:re,a:fe,style:ce,script:ae}=v,R=H({todos:[&quot;Write todos&quot;]}),he=I`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex;align-items:end}label{flex:1}input{width:100%}a{color:#9b9b9b}`,me=j(Q({lang:&quot;en-US&quot;,class:he},X(Y(R.todos.getGenerator(0)),q({name:&quot;viewport&quot;,content:&quot;width=device-width, initial-scale=1&quot;}),ce(V),Z({rel:&quot;icon&quot;,href:&quot;/icon.svg&quot;,type:&quot;image/svg+xml&quot;,sizes:&quot;any&quot;}),q({name:&quot;description&quot;,content:&quot;Skruv todo-list&quot;})),N(ee(te(R.todos.getGenerator(0)),se({onsubmit:e=&gt;{e.preventDefault(),R.todos.unshift(new FormData(e.target).get(&quot;todo&quot;)),e.target.reset()}},oe(&quot;What do you need to do?&quot;,ie({type:&quot;text&quot;,name:&quot;todo&quot;})),ne(&quot;New!&quot;)),async function*(){for await(let e of R)yield le(e.todos.map((t,c)=&gt;re(`${t} `,fe({href:&quot;#&quot;,onclick:m=&gt;{m.preventDefault(),e.todos.splice(c,1)}},&quot;x&quot;))))}),!!globalThis.skruvSSRScript&amp;&amp;ae({type:&quot;module&quot;},globalThis.skruvSSRScript)))),de=async()=&gt;{await K,P(me),await new Promise(e=&gt;setTimeout(e,0))};de();export{de as doRender};
//# sourceMappingURL=index.min.js.map
</script></body></html>