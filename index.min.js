var v=Symbol.for("skruvDom"),d="data-event-",k=(o,...s)=>{var l,f,e;return{s:v,t:o.toUpperCase(),...!((l=s[0])!=null&&l[Symbol.asyncIterator])&&((f=s[0])==null?void 0:f.constructor)===Object&&((e=s[0])==null?void 0:e.s)!==v?{a:s[0],c:s.slice(1)}:{a:{},c:s}}},h=new WeakMap,m={},b=(o,s=globalThis.document.documentElement,l=s.parentNode,f=!1)=>{var y,g,p;let e=s;if(!l||!l.ownerDocument||e&&!l.contains(e))return!1;if(typeof o=="boolean"||o===null||o===void 0)return e&&l.removeChild(e),!0;if(((typeof o=="string"||typeof o=="number")&&(e==null?void 0:e.nodeName)!=="#text"||(o==null?void 0:o.t)&&(e==null?void 0:e.nodeName)!==(o==null?void 0:o.t)||(e==null?void 0:e._skruvKey)!==((y=o==null?void 0:o.a)==null?void 0:y._key))&&(typeof o=="string"||typeof o=="number"?e=(m.text||(m.text=l.ownerDocument.createTextNode(""))).cloneNode():f||o.t==="svg"?e=(m[o.t]||(m[o.t]=l.ownerDocument.createElementNS("http://www.w3.org/2000/svg",o.t))).cloneNode():e=(m[o.t]||(m[o.t]=l.ownerDocument.createElement(o.t))).cloneNode(),s?l.replaceChild(e,s):l.appendChild(e),e._skruvKey=(g=o==null?void 0:o.a)==null?void 0:g._key,(p=o==null?void 0:o.a)!=null&&p.oncreate&&o.a.oncreate(e)),typeof o=="string"||typeof o=="number")return""+e.data!=""+o&&(e.data=o),!0;o._r&&(o._r._r=()=>b(o,e,l,f));for(let i in o.a)if(i[0]==="o"&&i[1]==="n"){let a=i.slice(2);!e[d+i]||""+e[d+i]!=""+o.a[i]?(e[d+i]&&e.removeEventListener(a,e[d+i]),e.addEventListener(a,o.a[i]),e[d+i]=o.a[i]):o.a[i]||e.removeEventListener(a,e[d+i])}else o.a[i]!==e.getAttribute(i)&&((typeof o.a[i]=="boolean"&&(o.t==="INPUT"&&i==="checked"||o.t==="OPTION"&&i==="selected")||typeof o.a[i]=="object")&&(e[i]=o.a[i]),o.a[i]?e.setAttribute(i,""+o.a[i]):e.removeAttribute(i));let t=o.c.flat(1/0);if(!t.length&&e.childNodes.length)return o.a["data-skruv-wait-for-not-empty"]||e.replaceChildren(),!0;if(e.childNodes.length>t.length)for(let i=t.length;i<e.childNodes.length;i++)e.removeChild(e.childNodes[i]);for(let i=0;i<t.length;i++){if(h.has(t[i])){let a=h.get(t[i]);a!==e.childNodes[i]&&(a===e.childNodes[i+1]?e.removeChild(e.childNodes[i]):h.has(t[i+1])&&h.get(t[i+1])===e.childNodes[i]?e.insertBefore(a,e.childNodes[i]):e.childNodes[i]?e.replaceChild(a,e.childNodes[i]):e.appendChild(a),h.set(t[i],e.childNodes[i]));continue}b(t[i],e.childNodes[i]||!1,e,f)}return h.set(o,e),!0},w=new Proxy({},{get:(o,s)=>(...l)=>k(s,...l)});export{w as elementFactory,k as h,b as render};
//# sourceMappingURL=index.min.js.map
