var k=Symbol.for("skruvDom"),d="data-event-",w=(i,...s)=>{var o,f,e;return{s:k,t:i.toUpperCase(),...!((o=s[0])!=null&&o[Symbol.asyncIterator])&&((f=s[0])==null?void 0:f.constructor)===Object&&((e=s[0])==null?void 0:e.s)!==k?{a:s[0],c:s.slice(1)}:{a:{},c:s}}},h=new WeakMap,m={},C=(i,s=globalThis.document.documentElement,o=s.parentNode,f=!1)=>{var g,v,b,p;let e=s,y=(o==null?void 0:o.ownerDocument)||e.ownerDocument;if(!o||!y||e&&!o.contains(e))return!1;if(typeof i=="boolean"||i===null||i===void 0)return e&&o.removeChild(e),!0;if(((typeof i=="string"||typeof i=="number")&&(e==null?void 0:e.nodeName)!=="#text"||(i==null?void 0:i.t)&&(e==null?void 0:e.nodeName)!==(i==null?void 0:i.t)||((g=e==null?void 0:e.getAttribute)==null?void 0:g.call(e,"data-skruv-key"))&&((v=e==null?void 0:e.getAttribute)==null?void 0:v.call(e,"data-skruv-key"))!==((b=i==null?void 0:i.a)==null?void 0:b["data-skruv-key"]))&&(typeof i=="string"||typeof i=="number"?e=(m.text||(m.text=y.createTextNode(""))).cloneNode():f||i.t==="svg"?e=(m[i.t]||(m[i.t]=y.createElementNS("http://www.w3.org/2000/svg",i.t))).cloneNode():e=(m[i.t]||(m[i.t]=y.createElement(i.t))).cloneNode(),s?o.replaceChild(e,s):o.appendChild(e),(p=i==null?void 0:i.a)!=null&&p.oncreate&&i.a.oncreate(e)),typeof i=="string"||typeof i=="number")return""+e.data!=""+i&&(e.data=i),!0;i._r&&(i._r._r=()=>C(i,e,o,f));for(let l in i.a)if(l[0]==="o"&&l[1]==="n"){let a=l.slice(2);!e[d+l]||""+e[d+l]!=""+i.a[l]?(e[d+l]&&e.removeEventListener(a,e[d+l]),e.addEventListener(a,i.a[l]),e[d+l]=i.a[l]):i.a[l]||e.removeEventListener(a,e[d+l])}else i.a[l]!==e.getAttribute(l)&&((typeof i.a[l]=="boolean"&&(i.t==="INPUT"&&l==="checked"||i.t==="OPTION"&&l==="selected")||typeof i.a[l]=="object")&&(e[l]=i.a[l]),i.a[l]?e.setAttribute(l,""+i.a[l]):e.removeAttribute(l));let t=i.c.flat(1/0);if(!t.length&&e.childNodes.length)return i.a["data-skruv-wait-for-not-empty"]||e.replaceChildren(),!0;if(e.childNodes.length>t.length)for(let l=t.length;l<e.childNodes.length;l++)e.removeChild(e.childNodes[l]);for(let l=0;l<t.length;l++){if(h.has(t[l])){let a=h.get(t[l]);a!==e.childNodes[l]&&(a===e.childNodes[l+1]?e.removeChild(e.childNodes[l]):h.has(t[l+1])&&h.get(t[l+1])===e.childNodes[l]?e.insertBefore(a,e.childNodes[l]):e.childNodes[l]?e.replaceChild(a,e.childNodes[l]):e.appendChild(a),h.set(t[l],e.childNodes[l]));continue}C(t[l],e.childNodes[l]||!1,e,f)}return h.set(i,e),!0},x=new Proxy({},{get:(i,s)=>(...o)=>w(s,...o)});export{x as elementFactory,w as h,C as render};
//# sourceMappingURL=index.min.js.map
