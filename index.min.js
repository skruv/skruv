var k=Symbol.for("skruvDom"),a="data-skruv-key",g=new WeakMap,A=new WeakMap,o=new WeakMap,v={},K=(s,l=globalThis.document.documentElement,m=l.parentNode,y=!1,W=!1)=>{var C,b,w,x,d,E,_,L;if(typeof s=="boolean"){l&&m.removeChild(l);return}let p=typeof s=="string"||typeof s=="number";if(W||!l||p&&(l==null?void 0:l.nodeName)!=="#text"||!p&&(l==null?void 0:l.nodeName.toLowerCase())!==s.t.toLowerCase()){let i=l;if(p?l=document.createTextNode(s):y||s.t==="svg"?(y=!0,l=(v[s.t]||(v[s.t]=document.createElementNS("http://www.w3.org/2000/svg",s.t))).cloneNode(!1)):l=(v[s.t]||(v[s.t]=document.createElement(s.t))).cloneNode(!1),i?m.replaceChild(l,i):m.appendChild(l),p)return;(C=s.c[0])!=null&&C.oncreate&&((b=s==null?void 0:s.c[0])==null||b.oncreate(l))}if(p){l.data!=s&&(l.data=s);return}s._r&&(s._r._r=()=>!l||!m.contains(l)?!1:(K(s,l,m,y),!0));let e=s.c.flat(1/0),f={};if(((w=e[0])==null?void 0:w.constructor)===Object&&((x=e[0])==null?void 0:x.s)!==k){f=e[0],e=e.slice(1);for(let i in f)if(!(i===a||i[0]==="_"))if(i[0]==="o"&&i[1]==="n"){let h=o.get(l);h||(h={}&&o.set(l,h));let t=i.slice(2);!o[i]||o[i]!==f[i]?(o[i]&&l.removeEventListener(t,o[i]),l.addEventListener(t,f[i]),o[i]=f[i]):f[i]||l.removeEventListener(t,o[i])}else f[i]!==l.getAttribute(i)&&((i==="checked"||i==="selected"||i==="value"||typeof f[i]=="object")&&(l[i]=f[i]),f[i]?l.setAttribute(i,""+f[i]):l.removeAttribute(i))}if(!e.length&&l.childNodes.length){if(f["data-skruv-wait-for-not-empty"])return;l.replaceChildren();return}if(l.childNodes.length>e.length)for(let i=e.length;i<l.childNodes.length;i++)l.removeChild(l.childNodes[i]);for(let i=0;i<e.length;i++){let h=!1,t;if(e[i].constructor===Object)if(t=g.get((d=e[i].c[0])==null?void 0:d[a]),t){if(t!==l.childNodes[i]&&(t===l.childNodes[i+1]?l.removeChild(l.childNodes[i]):g.get((L=(_=(E=e[i+1])==null?void 0:E.c)==null?void 0:_[0])==null?void 0:L[a])===l.childNodes[i]?l.insertBefore(t,l.childNodes[i]):l.childNodes[i]?l.replaceChild(t,l.childNodes[i]):l.appendChild(t)),h=e[i].c[0][a]!==A.get(l.childNodes[i]),!h){let F=g.get(l.childNodes[i]),M=!0;for(let j in e[i].c[0][a])e[i].c[0][a][j]!==F[j]&&(M=!1);if(M)continue}}else h=g.has(l.childNodes[i]);K(e[i],l.childNodes[i]||!1,l,y,h)}f[a]&&(g.set(f[a],l),A.set(l,f[a]),g.set(l,{...f[a]}))},O=new Proxy({},{get:(s,l)=>(...m)=>({s:k,t:l,c:m})}),T=(s,...l)=>({s:k,t:s,c:l});export{O as elementFactory,T as h,K as render};
//# sourceMappingURL=index.min.js.map
