var F="http://www.w3.org/1999/xhtml",Y="http://www.w3.org/2000/svg",K="http://www.w3.org/1998/Math/MathML",v=new WeakMap,H=new WeakMap,I=new WeakMap,q={},T=(e,t=globalThis.document.documentElement,l=t.parentNode,c=F,o=!1)=>{var h,d,m,y,g,P,C;if(!l)throw new Error("No parent to render to");if(typeof e=="boolean"){t&&l.removeChild(t);return}let n=typeof e=="string"||typeof e=="number";if(o||!t||n&&t.nodeName!=="#text"||!n&&t.nodeName.toLowerCase()!==e.t.toLowerCase()){let i=t;if(n?t=document.createTextNode(""+e):(e.t==="svg"&&(c=Y),e.t==="math"&&(c=K),t=(q[e.t]||(q[e.t]=document.createElementNS(c,e.t))).cloneNode(!1)),i?l.replaceChild(t,i):l.appendChild(t),n)return}if(n){t.textContent!=e&&(t.textContent=""+e);return}e.r&&(e.r=()=>!t||!l.contains(t)?!1:(T(e,t,l,c),!0)),e.t==="foreignObject"&&(c=F);let s=e.c.flat(1/0),f={};if(((h=s[0])==null?void 0:h.constructor)===Object&&!((d=s[0])!=null&&d.isSkruvDom)){f=s[0],s=s.slice(1);let i=I.get(t);i||(i={},I.set(t,i));for(let[a,r]of Object.entries(f))if(""+i[a]!=""+r&&a!=="data-skruv-key"){if(a==="data-skruv-after-create"){setTimeout(()=>r(t),0),i[a]=r;continue}if(a[0]==="o"&&a[1]==="n"){let p=a.slice(2);i[a]?r||t.removeEventListener(p,r):(i[a]&&t.removeEventListener(p,r),t.addEventListener(p,r)),i[a]=r;continue}(a==="checked"||a==="selected"||a==="value"||t.nodeName.includes("-"))&&(t[a]=r),r?t.setAttribute(a,""+r):t.removeAttribute(a),i[a]=r}}if(!s.length&&t.childNodes.length){if(f["data-skruv-wait-for-not-empty"])return;t.replaceChildren();return}if(t.childNodes.length>s.length)for(let i=t.childNodes.length-1;i>=s.length;i--)t.removeChild(t.childNodes[i]);for(let i=0;i<s.length;i++){let a=!1,r;if((m=s[i])!=null&&m.c)if(r=v.get((y=s[i].c[0])==null?void 0:y["data-skruv-key"]),r){if(r!==t.childNodes[i]&&(r===t.childNodes[i+1]?t.removeChild(t.childNodes[i]):t.childNodes[i]&&v.get((C=(P=(g=s[i+1])==null?void 0:g.c)==null?void 0:P[0])==null?void 0:C["data-skruv-key"])===t.childNodes[i]?t.insertBefore(r,t.childNodes[i]):t.childNodes[i]?t.replaceChild(r,t.childNodes[i]):t.appendChild(r)),a=s[i].c[0]["data-skruv-key"]!==H.get(t.childNodes[i]),!a){let p=v.get(t.childNodes[i]);if(p){let O=!0;for(let k in s[i].c[0]["data-skruv-key"])s[i].c[0]["data-skruv-key"][k]!==p[k]&&(O=!1);if(O)continue}}}else a=v.has(t.childNodes[i]);T(s[i],t.childNodes[i]||!1,t,c,a)}f["data-skruv-key"]&&(v.set(f["data-skruv-key"],t),H.set(t,f["data-skruv-key"]),v.set(t,{...f["data-skruv-key"]}))},z=new Proxy({},{get:(e,t)=>(...l)=>({isSkruvDom:!0,t,c:l})});var R=()=>{},U=new Promise(e=>{R=e}),j=new Map,J=e=>{let t=0;if(e.length===0)return t.toString();for(let l=0;l<e.length;l++)t=(t<<5)-t+e.charCodeAt(l),t|=0;return t.toString()},W=(e,...t)=>{var C;let l=e.reduce((i,a,r)=>{var p;return i.push(a),i.push(((p=t==null?void 0:t[r])==null?void 0:p.toString())||""),i},[]).join(""),c=/^\[.*?(?:(["'])(?:.|\\\1)*\1.*)*\]/,o=/([([,]|:scope\b)/,n=/^:scope\b/;function s(i,a){let r=i.search(o);if(r===-1)return{selector:`${a} ${i}`,rest:""};if(i[r]===",")return{selector:`${a} ${i.substring(0,r)}`,rest:i.substring(r+1)};let p=!0,O=!1;r=i.search(/\S/);let k=0;e:for(;r<i.length;++r){let E=i[r];switch(E){case"[":{let D=c.exec(i.substring(r));r+=(D?D[0].length:1)-1;continue}case"(":++k;continue;case":":if(p)if(n.test(i.substring(r))){if(k)return null}else continue;else continue;i=i.substring(0,r)+a+i.substring(r+6),r+=a.length,O=!0,--r;continue;case")":k&&--k;continue}if(!k)switch(E){case",":break e;case" ":case">":case"~":case"+":if(!p)continue;p=!1}}return{selector:(O?"":`${a} `)+i.substring(0,r),rest:i.substring(r+1)}}function f(i,a){let r=[];for(;i;){let p=s(i,a);if(p===null)return":not(*)";r.push(p.selector),i=p.rest}return r.join(", ")}function h(i,a){if(i instanceof CSSMediaRule){let r=i.cssRules.length;for(let p=0;p<r;++p)h(i.cssRules[p],a);return}i instanceof CSSStyleRule&&(i.selectorText=f(i.selectorText,a))}let d=J(l),m=`skruv-css-scope-${d}`,y=`.${m}`;if(j.has(d))return m;let g;if(!(globalThis!=null&&globalThis.CSSOM)&&!((C=globalThis.document)!=null&&C.implementation))throw new Error("No css parser available. Either add CSSOM to globalThis or run in browser.");if(globalThis!=null&&globalThis.CSSOM)g=CSSOM.parse(l);else{let i=globalThis.document.implementation.createHTMLDocument(""),a=i.createElementNS("http://www.w3.org/1999/xhtml","style");a.innerText=l,i.body.append(a),g=a.sheet,i.body.removeChild(a)}Array.from((g==null?void 0:g.cssRules)||[]).forEach(i=>h(i,y));let P=Array.from((g==null?void 0:g.cssRules)||[]).map(i=>i.cssText||"").join("");return j.set(d,P),R(),m};async function*$(){for(yield Array.from(j.values()).join("");;)await U,yield Array.from(j.values()).join(""),U=new Promise(e=>{R=e})}var V=e=>{let t=class L{constructor(){this._scheduled=!1,this._skruv_promise=new Promise(o=>{this._skruv_resolve=o})}_resolve(){this._skruv_parent&&this._skruv_parent._resolve&&this._skruv_parent._resolve(),!this._scheduled&&(this._scheduled=!0,setTimeout(()=>{this._skruv_resolve(""),this._skruv_promise=new Promise(o=>{this._skruv_resolve=o}),this._scheduled=!1},0))}set(o,n,s){return n==="_skruv_parent"?(this._skruv_parent=s,!0):(o[n]!==s&&(o[n]=this.recurse(n,s,o)),!0)}get(o,n,s){return n==="getGenerator"?f=>({key:[f,o],[Symbol.asyncIterator]:()=>{let h=!1;return{next:async()=>(h?await this._skruv_promise:h=!0,{done:!1,value:s[f]})}}}):n==="toJSON"?o.constructor===Object?Object.getOwnPropertyNames(o).reduce((f,h)=>{var d;return f[h]=((d=o[h])==null?void 0:d.toJSON)||o[h],f},{}):o.constructor===Array?o.map(f=>(f==null?void 0:f.toJSON)||f):o:n===Symbol.asyncIterator?()=>{let f=!1;return{next:async()=>(f?await this._skruv_promise:f=!0,{done:!1,value:s})}}:o[n]}deleteProperty(o,n){let s=delete o[n];return this._resolve(),s}recurse(o,n,s){var f;if(n&&n.constructor)if(n.constructor===Object&&((f=s==null?void 0:s[o])==null?void 0:f.constructor)===Object){for(let h of Object.getOwnPropertyNames(n))s[o][h]!==n[h]&&(s[o][h]=n[h]);for(let h of Object.getOwnPropertyNames(s[o]).filter(d=>!Object.getOwnPropertyNames(n).includes(d)))delete s[o][h],this._resolve();return s[o]}else if(n.constructor===Object){let h=new L;n=Object.keys(n).reduce((d,m)=>(d[m]=this.recurse(`${o}.${m}`,n[m]),typeof d[m]=="object"&&d[m]!==null&&(d[m]._skruv_parent=h),d),{}),n=new Proxy(n,h),n._skruv_parent=this,this._resolve()}else if(n.constructor===Array){let h=new L;n=n.map((d,m)=>{let y=this.recurse(`${o}[${m}]`,d);return typeof y=="object"&&y!==null&&(y._skruv_parent=h),y}),n=new Proxy(n,h),n._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return n}},l=new Proxy(e.constructor===Array?[]:{},new t("root"));return Object.assign(l,e),l};var x=!0,w=new WeakMap,M=()=>{},ie=new Promise(e=>{M=()=>{x=!1,setTimeout(()=>e(""),0)}}),S=new Set,G=(e,t,l,c,o)=>{var n,s;return x&&!(typeof o=="object"&&"c"in o&&((s=(n=o==null?void 0:o.c)==null?void 0:n[0])==null?void 0:s["data-skruv-finished"])===!1)&&(S.delete(e),S.size||M()),w.set(e,o),l[t]=o,c.r?c.r():!0},_=(e,t=null,l=null,c=null,o=!0)=>{if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null)return e;if(w.has(e))return w.get(e);if(t&&l&&c){if(typeof e=="object"&&Symbol.asyncIterator in e||typeof e=="function"&&e.constructor.name==="AsyncGeneratorFunction")return x&&S.add(e),w.set(e,null),(async()=>{for await(let n of typeof e=="function"?e():e)if(!G(e,t,l,c,_(n,t,l,c,!1)))break})(),null;if(typeof e=="object"&&"then"in e&&typeof e.then=="function"||typeof e=="function"&&e.constructor.name==="AsyncFunction")return x&&S.add(e),w.set(e,null),(async()=>G(e,t,l,c,_(await(typeof e=="function"?e():e),t,l,c,!1)))(),null;if(typeof e=="function"){if(t[0]==="o"&&t[1]==="n"||t==="r"&&(l==null?void 0:l.isSkruvDom)===!0||t==="data-skruv-after-create"||t==="data-skruv-after-remove")return e;let n=_(e(),t,l,c,!1);return w.set(e,n),n}}if(typeof e=="object"){let n={},s=n;e.isSkruvDom===!0?n.r=()=>((x&&!S.size||!x)&&M(),!0):c!=null&&c.r&&(s=c),Array.isArray(e)&&(n=[]);for(let f in e){let h=_(e[f],f,n,s,!1);(h!==null||e[f]===null)&&(n[f]=h)}return(o&&x&&!S.size||!x)&&M(),n}return e};var B={accentHeight:"accent-height",accentheight:"accent-height",acceptCharset:"accept-charset",acceptcharset:"accept-charset",accessKey:"accesskey",alignmentBaseline:"alignment-baseline",alignmentbaseline:"alignment-baseline",allowFullScreen:"allowfullscreen",allowReorder:"allowreorder",arabicForm:"arabic-form",arabicform:"arabic-form",attributeName:"attributename",attributeType:"attributetype",autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoReverse:"autoreverse",autoSave:"autosave",baseFrequency:"basefrequency",baseProfile:"baseprofile",baselineShift:"baseline-shift",baselineshift:"baseline-shift",calcMode:"calcmode",capHeight:"cap-height",capheight:"cap-height",cellPadding:"cellpadding",cellSpacing:"cellspacing",charSet:"charset",classID:"classid",className:"class",classname:"class",clipPath:"clip-path",clipPathUnits:"clippathunits",clipRule:"clip-rule",clippath:"clip-path",cliprule:"clip-rule",colSpan:"colspan",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",colorinterpolation:"color-interpolation",colorinterpolationfilters:"color-interpolation-filters",colorprofile:"color-profile",colorrendering:"color-rendering",contentEditable:"contenteditable",contentScriptType:"contentscripttype",contentStyleType:"contentstyletype",contextMenu:"contextmenu",controlsList:"controlslist",crossOrigin:"crossorigin",dangerouslySetInnerHTML:"dangerouslysetinnerhtml",dateTime:"datetime",defaultChecked:"defaultchecked",defaultValue:"defaultvalue",diffuseConstant:"diffuseconstant",disablePictureInPicture:"disablepictureinpicture",disableRemotePlayback:"disableremoteplayback",dominantBaseline:"dominant-baseline",dominantbaseline:"dominant-baseline",edgeMode:"edgemode",enableBackground:"enable-background",enablebackground:"enable-background",encType:"enctype",enterKeyHint:"enterkeyhint",externalResourcesRequired:"externalresourcesrequired",fetchPriority:"fetchpriority",fillOpacity:"fill-opacity",fillRule:"fill-rule",fillopacity:"fill-opacity",fillrule:"fill-rule",filterRes:"filterres",filterUnits:"filterunits",floodColor:"flood-color",floodOpacity:"flood-opacity",floodcolor:"flood-color",floodopacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontfamily:"font-family",fontsize:"font-size",fontsizeadjust:"font-size-adjust",fontstretch:"font-stretch",fontstyle:"font-style",fontvariant:"font-variant",fontweight:"font-weight",formAction:"formaction",formEncType:"formenctype",formMethod:"formmethod",formNoValidate:"formnovalidate",formTarget:"formtarget",frameBorder:"frameborder",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphref",glyphname:"glyph-name",glyphorientationhorizontal:"glyph-orientation-horizontal",glyphorientationvertical:"glyph-orientation-vertical",gradientTransform:"gradienttransform",gradientUnits:"gradientunits",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizadvx:"horiz-adv-x",horizoriginx:"horiz-origin-x",hrefLang:"hreflang",htmlFor:"for",htmlfor:"for",httpEquiv:"http-equiv",httpequiv:"http-equiv",imageRendering:"image-rendering",imageSizes:"imagesizes",imageSrcSet:"imagesrcset",imagerendering:"image-rendering",innerHTML:"innerhtml",inputMode:"inputmode",itemID:"itemid",itemProp:"itemprop",itemRef:"itemref",itemScope:"itemscope",itemType:"itemtype",kernelMatrix:"kernelmatrix",kernelUnitLength:"kernelunitlength",keyParams:"keyparams",keyPoints:"keypoints",keySplines:"keysplines",keyTimes:"keytimes",keyType:"keytype",lengthAdjust:"lengthadjust",letterSpacing:"letter-spacing",letterspacing:"letter-spacing",lightingColor:"lighting-color",lightingcolor:"lighting-color",limitingConeAngle:"limitingconeangle",marginHeight:"marginheight",marginWidth:"marginwidth",markerEnd:"marker-end",markerHeight:"markerheight",markerMid:"marker-mid",markerStart:"marker-start",markerUnits:"markerunits",markerWidth:"markerwidth",markerend:"marker-end",markermid:"marker-mid",markerstart:"marker-start",maskContentUnits:"maskcontentunits",maskUnits:"maskunits",maxLength:"maxlength",mediaGroup:"mediagroup",minLength:"minlength",noModule:"nomodule",noValidate:"novalidate",numOctaves:"numoctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",overlineposition:"overline-position",overlinethickness:"overline-thickness",paintOrder:"paint-order",paintorder:"paint-order",panose1:"panose-1",pathLength:"pathlength",patternContentUnits:"patterncontentunits",patternTransform:"patterntransform",patternUnits:"patternunits",playsInline:"playsinline",pointerEvents:"pointer-events",pointerevents:"pointer-events",pointsAtX:"pointsatx",pointsAtY:"pointsaty",pointsAtZ:"pointsatz",preserveAlpha:"preservealpha",preserveAspectRatio:"preserveaspectratio",primitiveUnits:"primitiveunits",radioGroup:"radiogroup",readOnly:"readonly",refX:"refx",refY:"refy",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",renderingintent:"rendering-intent",repeatCount:"repeatcount",repeatDur:"repeatdur",requiredExtensions:"requiredextensions",requiredFeatures:"requiredfeatures",rowSpan:"rowspan",shapeRendering:"shape-rendering",shaperendering:"shape-rendering",specularConstant:"specularconstant",specularExponent:"specularexponent",spellCheck:"spellcheck",spreadMethod:"spreadmethod",srcDoc:"srcdoc",srcLang:"srclang",srcSet:"srcset",startOffset:"startoffset",stdDeviation:"stddeviation",stitchTiles:"stitchtiles",stopColor:"stop-color",stopOpacity:"stop-opacity",stopcolor:"stop-color",stopopacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strikethroughposition:"strikethrough-position",strikethroughthickness:"strikethrough-thickness",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokedasharray:"stroke-dasharray",strokedashoffset:"stroke-dashoffset",strokelinecap:"stroke-linecap",strokelinejoin:"stroke-linejoin",strokemiterlimit:"stroke-miterlimit",strokeopacity:"stroke-opacity",strokewidth:"stroke-width",suppressContentEditableWarning:"suppresscontenteditablewarning",suppressHydrationWarning:"suppresshydrationwarning",surfaceScale:"surfacescale",systemLanguage:"systemlanguage",tabIndex:"tabindex",tableValues:"tablevalues",targetX:"targetx",targetY:"targety",textAnchor:"text-anchor",textDecoration:"text-decoration",textLength:"textlength",textRendering:"text-rendering",textanchor:"text-anchor",textdecoration:"text-decoration",textrendering:"text-rendering",transformOrigin:"transform-origin",transformorigin:"transform-origin",underlinePosition:"underline-position",underlineThickness:"underline-thickness",underlineposition:"underline-position",underlinethickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unicodebidi:"unicode-bidi",unicoderange:"unicode-range",unitsPerEm:"units-per-em",unitsperem:"units-per-em",useMap:"usemap",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",valphabetic:"v-alphabetic",vectorEffect:"vector-effect",vectoreffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",vertadvy:"vert-adv-y",vertoriginx:"vert-origin-x",vertoriginy:"vert-origin-y",vhanging:"v-hanging",videographic:"v-ideographic",viewBox:"viewbox",viewTarget:"viewtarget",vmathematical:"v-mathematical",wordSpacing:"word-spacing",wordspacing:"word-spacing",writingMode:"writing-mode",writingmode:"writing-mode",xChannelSelector:"xchannelselector",xHeight:"x-height",xheight:"x-height",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xlinkactuate:"xlink:actuate",xlinkarcrole:"xlink:arcrole",xlinkhref:"xlink:href",xlinkrole:"xlink:role",xlinkshow:"xlink:show",xlinktitle:"xlink:title",xlinktype:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xmlspace",xmlbase:"xml:base",xmllang:"xml:lang",xmlnsXlink:"xmlns:xlink",xmlnsxlink:"xmlns:xlink",yChannelSelector:"ychannelselector",zoomAndPan:"zoomandpan",onChange:"oninput",onchange:"oninput"},X="#fragment",b=(e,t={})=>{if(e===X&&t.children)return t.children;if(e===X)return[];let{children:l,...c}=t;return e.includes("-")||Object.keys(c).forEach(o=>{o[0]==="o"&&o[1]==="n"&&o!==o.toLowerCase()?(c[o.toLowerCase()]=c[o],delete c[o]):B[o]&&(c[B[o]]=c[o],delete c[o])}),l?z[e](c||{},l):z[e](c||{})},u=b;var A=V({todos:["Write todos"]}),Z=W`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex}input{flex:1}a{color:#9b9b9b}`;T(_(b("html",{lang:"en-US",class:Z,children:[b("head",{children:[u("title",{children:A.todos.getGenerator(0)}),u("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),u("style",{children:$})]}),u("body",{children:b("main",{children:[u("h1",{children:A.todos.getGenerator(0)}),b("form",{onsubmit:e=>{e.preventDefault(),A.todos.unshift(new FormData(e.target).get("todo")),e.target.reset()},children:[u("input",{name:"todo"}),u("button",{children:"New!"})]}),u("ol",{children:async function*(){for await(let e of A.todos)yield e.map((t,l)=>b("li",{children:[t," ",u("a",{href:"#",onclick:c=>{c.preventDefault(),e.splice(l,1)},children:"x"})]}))}})]})})]})));
//# sourceMappingURL=index.min.js.map
