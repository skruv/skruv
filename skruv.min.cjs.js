"use strict";var A=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var W=Object.prototype.hasOwnProperty;var O=(e,t)=>{for(var i in t)A(e,i,{get:t[i],enumerable:!0})},B=(e,t,i,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of q(t))!W.call(e,c)&&c!==i&&A(e,c,{get:()=>t[c],enumerable:!(p=I(t,c))||p.enumerable});return e};var H=e=>B(A({},"__esModule",{value:!0}),e);var Qo={};O(Qo,{createState:()=>R,elements:()=>S,render:()=>D});module.exports=H(Qo);var z=window?.requestAnimationFrame||(e=>setTimeout(e,0)),V=e=>{let t=class{constructor(c){this.name=c,this._scheduled=!1,this._skruv_promise=new Promise(o=>{this._skruv_resolve=o})}_resolve(){this._skruv_parent&&this._skruv_parent._resolve&&this._skruv_parent._resolve(),!this._scheduled&&(this._scheduled=!0,z(()=>{this._skruv_resolve(),this._skruv_promise=new Promise(c=>{this._skruv_resolve=c}),this._scheduled=!1}))}set(c,o,s){return o==="_skruv_parent"?(this._skruv_parent=s,!0):(c[o]!==s&&(c[o]=this.recurse(o,s,c)),!0)}get(c,o,s){return o==="getGenerator"?n=>({key:[n,c],[Symbol.asyncIterator]:()=>{let a=!1;return{next:async()=>(a?await this._skruv_promise:a=!0,{done:!1,value:s[n]})}}}):o==="skruv_resolve"?()=>this._resolve():o==="skruv_unwrap_proxy"?c.constructor===Object?Object.getOwnPropertyNames(c).reduce((n,a)=>(n[a]=c[a]?.skruv_unwrap_proxy||c[a],n),{}):c.constructor===Array?c.map(n=>n?.skruv_unwrap_proxy||n):c:o===Symbol.asyncIterator?()=>{let n=!1;return{next:async()=>(n?await this._skruv_promise:n=!0,{done:!1,value:s})}}:c[o]}deleteProperty(c,o){let s=delete c[o];return this._resolve(),s}recurse(c,o,s){if(o&&o.constructor)if(o.constructor===Object&&s?.[c]?.constructor===Object||o.constructor===Array&&s?.[c]?.constructor===Array){for(let n of Object.getOwnPropertyNames(o))s[c][n]!==o[n]&&(s[c][n]=o[n]);for(let n of Object.getOwnPropertyNames(s[c]).filter(a=>!Object.getOwnPropertyNames(o).includes(a)))delete s[c][n],this._resolve();return s[c]}else if(o.constructor===Object){let n=new this.constructor(`${this.name}.${c}`);o=Object.keys(o).reduce((a,x)=>(a[x]=this.recurse(`${c}.${x}`,o[x]),typeof a[x]=="object"&&a[x]!==null&&(a[x]._skruv_parent=n),a),{}),o=new Proxy(o,n),o._skruv_parent=this,this._resolve()}else if(o.constructor===Array){let n=new this.constructor(`${this.name}.${c}`);o=o.map((a,x)=>{let d=this.recurse(`${c}[${x}]`,a);return typeof d=="object"&&d!==null&&(d._skruv_parent=n),d}),o=new Proxy(o,n),o._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return o}},i=new Proxy(e.constructor===Array?[]:{},new t("root"));return Object.assign(i,e),i},R=V;var S={};O(S,{ChildNode:()=>K,ChildNodes:()=>J,SkruvIterableType:()=>Q,Vnode:()=>w,a:()=>U,abbr:()=>X,acronym:()=>Y,address:()=>Z,animate:()=>Rr,animateMotion:()=>Tr,animateTransform:()=>Er,applet:()=>N,area:()=>tt,article:()=>et,aside:()=>rt,audio:()=>ot,b:()=>st,base:()=>nt,basefont:()=>ct,bdi:()=>it,bdo:()=>pt,bgsound:()=>at,big:()=>ut,blink:()=>lt,blockquote:()=>xt,body:()=>ft,br:()=>mt,button:()=>dt,canvas:()=>ht,caption:()=>bt,center:()=>kt,circle:()=>Gr,cite:()=>yt,clipPath:()=>Pr,code:()=>gt,col:()=>At,colgroup:()=>wt,command:()=>St,content:()=>_t,css:()=>Vo,data:()=>vt,datalist:()=>Ct,dd:()=>jt,defs:()=>Fr,del:()=>Lt,desc:()=>$r,details:()=>Mt,dfn:()=>Ot,dialog:()=>Rt,dir:()=>Tt,discard:()=>Dr,div:()=>Et,dl:()=>Gt,dt:()=>Pt,element:()=>Ft,ellipse:()=>Ir,em:()=>$t,embed:()=>Dt,feBlend:()=>qr,feColorMatrix:()=>Wr,feComponentTransfer:()=>Br,feComposite:()=>Hr,feConvolveMatrix:()=>zr,feDiffuseLighting:()=>Vr,feDisplacementMap:()=>Jr,feDistantLight:()=>Kr,feDropShadow:()=>Qr,feFlood:()=>Ur,feFuncA:()=>Xr,feFuncB:()=>Yr,feFuncG:()=>Zr,feFuncR:()=>Nr,feGaussianBlur:()=>to,feImage:()=>eo,feMerge:()=>ro,feMergeNode:()=>oo,feMorphology:()=>so,feOffset:()=>no,fePointLight:()=>co,feSpecularLighting:()=>io,feSpotLight:()=>po,feTile:()=>ao,feTurbulence:()=>uo,fieldset:()=>It,figcaption:()=>qt,figure:()=>Wt,filter:()=>lo,font:()=>Bt,footer:()=>Ht,foreignObject:()=>xo,form:()=>zt,frame:()=>Vt,frameset:()=>Jt,g:()=>fo,h:()=>r,h1:()=>Kt,h2:()=>Qt,h3:()=>Ut,h4:()=>Xt,h5:()=>Yt,h6:()=>Zt,hatch:()=>mo,hatchpath:()=>ho,head:()=>Nt,header:()=>te,hgroup:()=>ee,hr:()=>re,html:()=>oe,i:()=>se,iframe:()=>ne,image:()=>ce,img:()=>ie,input:()=>pe,ins:()=>ae,isindex:()=>ue,kbd:()=>le,keygen:()=>xe,label:()=>fe,legend:()=>me,li:()=>de,line:()=>bo,linearGradient:()=>ko,link:()=>he,listing:()=>be,main:()=>ke,map:()=>ye,mark:()=>ge,marker:()=>yo,marquee:()=>Ae,mask:()=>go,menu:()=>we,menuitem:()=>Se,mesh:()=>Ao,meshgradient:()=>wo,meshpatch:()=>So,meshrow:()=>_o,meta:()=>_e,metadata:()=>vo,meter:()=>ve,mpath:()=>Co,multicol:()=>Ce,nav:()=>je,nextid:()=>Le,nobr:()=>Me,noembed:()=>Oe,noframes:()=>Re,noscript:()=>Te,object:()=>Ee,ol:()=>Ge,optgroup:()=>Pe,option:()=>Fe,output:()=>$e,p:()=>De,param:()=>Ie,path:()=>jo,pattern:()=>Lo,picture:()=>qe,plaintext:()=>We,polygon:()=>Mo,polyline:()=>Oo,pre:()=>Be,progress:()=>He,q:()=>ze,radialGradient:()=>Ro,rb:()=>Ve,rect:()=>To,rp:()=>Je,rt:()=>Ke,rtc:()=>Qe,ruby:()=>Ue,s:()=>Xe,samp:()=>Ye,scopedcss:()=>Jo,script:()=>Ze,section:()=>Ne,select:()=>tr,set:()=>Eo,shadow:()=>er,slot:()=>rr,small:()=>or,solidcolor:()=>Go,source:()=>sr,spacer:()=>nr,span:()=>cr,stop:()=>Po,strike:()=>ir,strong:()=>pr,style:()=>k,sub:()=>ar,summary:()=>ur,sup:()=>lr,svg:()=>Fo,switchElem:()=>$o,symbol:()=>Do,table:()=>xr,tbody:()=>fr,td:()=>mr,template:()=>dr,text:()=>Io,textPath:()=>qo,textarea:()=>hr,tfoot:()=>br,th:()=>kr,thead:()=>yr,time:()=>gr,title:()=>Ar,tr:()=>wr,track:()=>Sr,tspan:()=>Wo,tt:()=>_r,u:()=>vr,ul:()=>Cr,unknown:()=>Bo,use:()=>Ho,varElem:()=>jr,video:()=>Lr,view:()=>zo,wbr:()=>Mr,xmp:()=>Or});var w={nodeName:"",attributes:{},childNodes:[]},J=[],K=w,Q=async function*(){yield w}(),r=(e,t={},...i)=>({nodeName:e,attributes:t,childNodes:i}),U=(e={},...t)=>r("a",e,...t),X=(e={},...t)=>r("abbr",e,...t),Y=(e={},...t)=>r("acronym",e,...t),Z=(e={},...t)=>r("address",e,...t),N=(e={},...t)=>r("applet",e,...t),tt=(e={},...t)=>r("area",e,...t),et=(e={},...t)=>r("article",e,...t),rt=(e={},...t)=>r("aside",e,...t),ot=(e={},...t)=>r("audio",e,...t),st=(e={},...t)=>r("b",e,...t),nt=(e={},...t)=>r("base",e,...t),ct=(e={},...t)=>r("basefont",e,...t),it=(e={},...t)=>r("bdi",e,...t),pt=(e={},...t)=>r("bdo",e,...t),at=(e={},...t)=>r("bgsound",e,...t),ut=(e={},...t)=>r("big",e,...t),lt=(e={},...t)=>r("blink",e,...t),xt=(e={},...t)=>r("blockquote",e,...t),ft=(e={},...t)=>r("body",e,...t),mt=(e={},...t)=>r("br",e,...t),dt=(e={},...t)=>r("button",e,...t),ht=(e={},...t)=>r("canvas",e,...t),bt=(e={},...t)=>r("caption",e,...t),kt=(e={},...t)=>r("center",e,...t),yt=(e={},...t)=>r("cite",e,...t),gt=(e={},...t)=>r("code",e,...t),At=(e={},...t)=>r("col",e,...t),wt=(e={},...t)=>r("colgroup",e,...t),St=(e={},...t)=>r("command",e,...t),_t=(e={},...t)=>r("content",e,...t),vt=(e={},...t)=>r("data",e,...t),Ct=(e={},...t)=>r("datalist",e,...t),jt=(e={},...t)=>r("dd",e,...t),Lt=(e={},...t)=>r("del",e,...t),Mt=(e={},...t)=>r("details",e,...t),Ot=(e={},...t)=>r("dfn",e,...t),Rt=(e={},...t)=>r("dialog",e,...t),Tt=(e={},...t)=>r("dir",e,...t),Et=(e={},...t)=>r("div",e,...t),Gt=(e={},...t)=>r("dl",e,...t),Pt=(e={},...t)=>r("dt",e,...t),Ft=(e={},...t)=>r("element",e,...t),$t=(e={},...t)=>r("em",e,...t),Dt=(e={},...t)=>r("embed",e,...t),It=(e={},...t)=>r("fieldset",e,...t),qt=(e={},...t)=>r("figcaption",e,...t),Wt=(e={},...t)=>r("figure",e,...t),Bt=(e={},...t)=>r("font",e,...t),Ht=(e={},...t)=>r("footer",e,...t),zt=(e={},...t)=>r("form",e,...t),Vt=(e={},...t)=>r("frame",e,...t),Jt=(e={},...t)=>r("frameset",e,...t),Kt=(e={},...t)=>r("h1",e,...t),Qt=(e={},...t)=>r("h2",e,...t),Ut=(e={},...t)=>r("h3",e,...t),Xt=(e={},...t)=>r("h4",e,...t),Yt=(e={},...t)=>r("h5",e,...t),Zt=(e={},...t)=>r("h6",e,...t),Nt=(e={},...t)=>r("head",e,...t),te=(e={},...t)=>r("header",e,...t),ee=(e={},...t)=>r("hgroup",e,...t),re=(e={},...t)=>r("hr",e,...t),oe=(e={},...t)=>r("html",e,...t),se=(e={},...t)=>r("i",e,...t),ne=(e={},...t)=>r("iframe",e,...t),ce=(e={},...t)=>r("image",e,...t),ie=(e={},...t)=>r("img",e,...t),pe=(e={},...t)=>r("input",e,...t),ae=(e={},...t)=>r("ins",e,...t),ue=(e={},...t)=>r("isindex",e,...t),le=(e={},...t)=>r("kbd",e,...t),xe=(e={},...t)=>r("keygen",e,...t),fe=(e={},...t)=>r("label",e,...t),me=(e={},...t)=>r("legend",e,...t),de=(e={},...t)=>r("li",e,...t),he=(e={},...t)=>r("link",e,...t),be=(e={},...t)=>r("listing",e,...t),ke=(e={},...t)=>r("main",e,...t),ye=(e={},...t)=>r("map",e,...t),ge=(e={},...t)=>r("mark",e,...t),Ae=(e={},...t)=>r("marquee",e,...t),we=(e={},...t)=>r("menu",e,...t),Se=(e={},...t)=>r("menuitem",e,...t),_e=(e={},...t)=>r("meta",e,...t),ve=(e={},...t)=>r("meter",e,...t),Ce=(e={},...t)=>r("multicol",e,...t),je=(e={},...t)=>r("nav",e,...t),Le=(e={},...t)=>r("nextid",e,...t),Me=(e={},...t)=>r("nobr",e,...t),Oe=(e={},...t)=>r("noembed",e,...t),Re=(e={},...t)=>r("noframes",e,...t),Te=(e={},...t)=>r("noscript",e,...t),Ee=(e={},...t)=>r("object",e,...t),Ge=(e={},...t)=>r("ol",e,...t),Pe=(e={},...t)=>r("optgroup",e,...t),Fe=(e={},...t)=>r("option",e,...t),$e=(e={},...t)=>r("output",e,...t),De=(e={},...t)=>r("p",e,...t),Ie=(e={},...t)=>r("param",e,...t),qe=(e={},...t)=>r("picture",e,...t),We=(e={},...t)=>r("plaintext",e,...t),Be=(e={},...t)=>r("pre",e,...t),He=(e={},...t)=>r("progress",e,...t),ze=(e={},...t)=>r("q",e,...t),Ve=(e={},...t)=>r("rb",e,...t),Je=(e={},...t)=>r("rp",e,...t),Ke=(e={},...t)=>r("rt",e,...t),Qe=(e={},...t)=>r("rtc",e,...t),Ue=(e={},...t)=>r("ruby",e,...t),Xe=(e={},...t)=>r("s",e,...t),Ye=(e={},...t)=>r("samp",e,...t),Ze=(e={},...t)=>r("script",e,...t),Ne=(e={},...t)=>r("section",e,...t),tr=(e={},...t)=>r("select",e,...t),er=(e={},...t)=>r("shadow",e,...t),rr=(e={},...t)=>r("slot",e,...t),or=(e={},...t)=>r("small",e,...t),sr=(e={},...t)=>r("source",e,...t),nr=(e={},...t)=>r("spacer",e,...t),cr=(e={},...t)=>r("span",e,...t),ir=(e={},...t)=>r("strike",e,...t),pr=(e={},...t)=>r("strong",e,...t),k=(e={},...t)=>r("style",e,...t),ar=(e={},...t)=>r("sub",e,...t),ur=(e={},...t)=>r("summary",e,...t),lr=(e={},...t)=>r("sup",e,...t),xr=(e={},...t)=>r("table",e,...t),fr=(e={},...t)=>r("tbody",e,...t),mr=(e={},...t)=>r("td",e,...t),dr=(e={},...t)=>r("template",e,...t),hr=(e={},...t)=>r("textarea",e,...t),br=(e={},...t)=>r("tfoot",e,...t),kr=(e={},...t)=>r("th",e,...t),yr=(e={},...t)=>r("thead",e,...t),gr=(e={},...t)=>r("time",e,...t),Ar=(e={},...t)=>r("title",e,...t),wr=(e={},...t)=>r("tr",e,...t),Sr=(e={},...t)=>r("track",e,...t),_r=(e={},...t)=>r("tt",e,...t),vr=(e={},...t)=>r("u",e,...t),Cr=(e={},...t)=>r("ul",e,...t),jr=(e={},...t)=>r("var",e,...t),Lr=(e={},...t)=>r("video",e,...t),Mr=(e={},...t)=>r("wbr",e,...t),Or=(e={},...t)=>r("xmp",e,...t),Rr=(e={},...t)=>r("animate",e,...t),Tr=(e={},...t)=>r("animateMotion",e,...t),Er=(e={},...t)=>r("animateTransform",e,...t),Gr=(e={},...t)=>r("circle",e,...t),Pr=(e={},...t)=>r("clipPath",e,...t),Fr=(e={},...t)=>r("defs",e,...t),$r=(e={},...t)=>r("desc",e,...t),Dr=(e={},...t)=>r("discard",e,...t),Ir=(e={},...t)=>r("ellipse",e,...t),qr=(e={},...t)=>r("feBlend",e,...t),Wr=(e={},...t)=>r("feColorMatrix",e,...t),Br=(e={},...t)=>r("feComponentTransfer",e,...t),Hr=(e={},...t)=>r("feComposite",e,...t),zr=(e={},...t)=>r("feConvolveMatrix",e,...t),Vr=(e={},...t)=>r("feDiffuseLighting",e,...t),Jr=(e={},...t)=>r("feDisplacementMap",e,...t),Kr=(e={},...t)=>r("feDistantLight",e,...t),Qr=(e={},...t)=>r("feDropShadow",e,...t),Ur=(e={},...t)=>r("feFlood",e,...t),Xr=(e={},...t)=>r("feFuncA",e,...t),Yr=(e={},...t)=>r("feFuncB",e,...t),Zr=(e={},...t)=>r("feFuncG",e,...t),Nr=(e={},...t)=>r("feFuncR",e,...t),to=(e={},...t)=>r("feGaussianBlur",e,...t),eo=(e={},...t)=>r("feImage",e,...t),ro=(e={},...t)=>r("feMerge",e,...t),oo=(e={},...t)=>r("feMergeNode",e,...t),so=(e={},...t)=>r("feMorphology",e,...t),no=(e={},...t)=>r("feOffset",e,...t),co=(e={},...t)=>r("fePointLight",e,...t),io=(e={},...t)=>r("feSpecularLighting",e,...t),po=(e={},...t)=>r("feSpotLight",e,...t),ao=(e={},...t)=>r("feTile",e,...t),uo=(e={},...t)=>r("feTurbulence",e,...t),lo=(e={},...t)=>r("filter",e,...t),xo=(e={},...t)=>r("foreignObject",e,...t),fo=(e={},...t)=>r("g",e,...t),mo=(e={},...t)=>r("hatch",e,...t),ho=(e={},...t)=>r("hatchpath",e,...t),bo=(e={},...t)=>r("line",e,...t),ko=(e={},...t)=>r("linearGradient",e,...t),yo=(e={},...t)=>r("marker",e,...t),go=(e={},...t)=>r("mask",e,...t),Ao=(e={},...t)=>r("mesh",e,...t),wo=(e={},...t)=>r("meshgradient",e,...t),So=(e={},...t)=>r("meshpatch",e,...t),_o=(e={},...t)=>r("meshrow",e,...t),vo=(e={},...t)=>r("metadata",e,...t),Co=(e={},...t)=>r("mpath",e,...t),jo=(e={},...t)=>r("path",e,...t),Lo=(e={},...t)=>r("pattern",e,...t),Mo=(e={},...t)=>r("polygon",e,...t),Oo=(e={},...t)=>r("polyline",e,...t),Ro=(e={},...t)=>r("radialGradient",e,...t),To=(e={},...t)=>r("rect",e,...t),Eo=(e={},...t)=>r("set",e,...t),Go=(e={},...t)=>r("solidcolor",e,...t),Po=(e={},...t)=>r("stop",e,...t),Fo=(e={},...t)=>r("svg",e,...t),$o=(e={},...t)=>r("switch",e,...t),Do=(e={},...t)=>r("symbol",e,...t),Io=(e={},...t)=>r("text",e,...t),qo=(e={},...t)=>r("textPath",e,...t),Wo=(e={},...t)=>r("tspan",e,...t),Bo=(e={},...t)=>r("unknown",e,...t),Ho=(e={},...t)=>r("use",e,...t),zo=(e={},...t)=>r("view",e,...t),h=new Map,T=e=>{var t=0,i,p;if(e.length===0)return t;for(i=0;i<e.length;i++)p=e.charCodeAt(i),t=(t<<5)-t+p,t|=0;return t},E=(e,...t)=>e.reduce((i,p,c)=>(i.push(p),i.push(t?.[c]?.toString()||""),i),[]).join(""),Vo=(e,...t)=>{let i=E(e,...t),p=`unscoped${T(i)}`;if(h.has(p))return k({},h.get(p));let c;if(window?.CSSOM)c=CSSOM.parse(i);else{let s=document.implementation.createHTMLDocument(""),n=s.createElement("style");n.innerText=i,s.body.append(n),c=n.sheet,s.body.removeChild(n)}let o=Array.from(c.cssRules).map(s=>s.cssText||"").join("");return h.set(p,o),k({},o)},Jo=(e,...t)=>{let i=/^\[.*?(?:(["'])(?:.|\\\1)*\1.*)*\]/,p=/([([,]|:scope\b)/,c=/^:scope\b/,o=E(e,...t);function s(u,f){let l=u.search(p);if(l===-1)return{selector:`${f} ${u}`,rest:""};if(u[l]===",")return{selector:`${f} ${u.substring(0,l)}`,rest:u.substring(l+1)};let m=!0,j=!1;l=u.search(/\S/);let b=0;t:for(;l<u.length;++l){let L=u[l];switch(L){case"[":let M=i.exec(u.substring(l));l+=(M?M[0].length:1)-1;continue;case"(":++b;continue;case":":if(m)if(c.test(u.substring(l))){if(b)return null}else continue;else continue;u=u.substring(0,l)+f+u.substring(l+6),l+=f.length,j=!0,--l;continue;case")":b&&--b;continue}if(!b)switch(L){case",":break t;case" ":case">":case"~":case"+":if(!m)continue;m=!1}}return{selector:(j?"":`${f} `)+u.substring(0,l),rest:u.substring(l+1)}}function n(u,f){let l=[];for(;u;){let m=s(u,f);if(m===null)return":not(*)";l.push(m.selector),u=m.rest}return l.join(", ")}function a(u,f){if(u instanceof CSSMediaRule){let l=u.cssRules.length;for(let m=0;m<l;++m)a(u.cssRules[m],f);return}u instanceof CSSStyleRule&&(u.selectorText=n(u.selectorText,f))}let x=`scope${T(o)}`,d=`[data-css-scope~=${x}]`;if(h.has(x))return k({"data-css-for-scope":x},h.get(x));let y;if(window?.CSSOM)y=CSSOM.parse(o);else{let u=document.implementation.createHTMLDocument(""),f=u.createElement("style");f.innerText=o,u.body.append(f),y=f.sheet,u.body.removeChild(f)}Array.from(y.cssRules).forEach(u=>a(u,d));let C=Array.from(y.cssRules).map(u=>u.cssText||"").join("");return h.set(x,C),k({"data-css-for-scope":x},C)};var _=new WeakMap,G=(e,t,i,p,c)=>{t.skruvActiveAttributeGenerators=new Set,t.getAttributeNames&&t.getAttributeNames().filter(o=>!Object.keys(e.attributes).includes(o)&&o!=="data-css-scope").forEach(o=>{t.removeAttribute(o)});for(let[o,s]of Object.entries(e.attributes)){if(o==="key"){!p&&(t.skruvkey=s);continue}if(o==="data-css-for-scope"){let n=(i?.getAttribute?.("data-css-scope")||"").split(" ");n.push(s),!p&&i?.setAttribute?.("data-css-scope",Array.from(new Set(n)).join(" ").trim());continue}if(s?.[Symbol.asyncIterator]||s instanceof Function&&s?.prototype?.toString?.()==="[object AsyncGenerator]")return t.skruvActiveAttributeGenerators.add(s),s.booted||(c?.renderWaiting?.add(s),s.booted=!0,F(s,()=>{if(!t.skruvActiveAttributeGenerators?.has(s))return!1;if(o==="key")return!p&&(t.skruvkey=s),!0;if(o==="data-css-for-scope"){let a=(i?.getAttribute?.("data-css-scope")||"").split(" ");return a.push(s),!p&&i?.setAttribute?.("data-css-scope",Array.from(new Set(a)).join(" ")),!0}return s.result===!1&&t.getAttribute?.(o)?!p&&t.removeAttribute&&t.removeAttribute(o):((o==="value"||o==="checked"||o==="selected")&&!p&&(t[o]=s.result),!p&&t.setAttribute&&t.setAttribute(o,s.result),c?.renderWaiting?.delete(s),c?.checkRender?.()),!0})),e.result;o.slice(0,2)==="on"&&s instanceof Function?(t.skruvListeners||(t.skruvListeners={}),t.skruvListeners[o]&&t.skruvListeners[o].toString()!==s.toString()&&(t.removeEventListener(o.slice(2),t.skruvListeners[o]),t.skruvListeners[o]=null),t.skruvListeners[o]||(t.skruvListeners[o]=s,t.addEventListener(o.slice(2),t.skruvListeners[o]))):(s!==!1&&t.getAttribute?.(o)!==s&&!p&&((o==="value"||o==="checked"||o==="selected")&&(t[o]=s),t.setAttribute&&t.setAttribute(o,s)),s===!1&&t.getAttribute?.(o)&&!p&&t.removeAttribute&&t.removeAttribute(o))}},P=(e,t)=>e.nodeName==="#comment"?document.createComment(e.data||""):e.nodeName==="#text"?document.createTextNode(e.data||""):t?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),F=async(e,t)=>{for await(let i of e?.[Symbol.asyncIterator]?e:e())if(e.result=i,!t())break},$=(e,t,i,p,c,o=e)=>{let s=e.map(n=>{if(typeof n=="boolean"||typeof n>"u")return!1;if(typeof n=="string"||typeof n=="number")return{nodeName:"#text",attributes:{},childNodes:[],data:n.toString()};if(n?.[Symbol.asyncIterator]||n instanceof Function&&n?.prototype?.toString?.()==="[object AsyncGenerator]"){let a=n;return t.skruvActiveGenerators&&t.skruvActiveGenerators.add(a),a.hydrating=p,a.booted||(c?.renderWaiting?.add(a),a.booted=!0,F(a,()=>!t.skruvActiveGenerators||t.skruvActiveGenerators&&!t.skruvActiveGenerators.has(a)?(c?.renderWaiting?.delete(a),!1):(v(o,t,i,!!a.hydrating,c),a?.result?.attributes?.["data-skruv-finished"]!==!1&&c?.renderWaiting?.delete(a),c?.checkRender?.(),!0))),a.result}else{if(typeof n=="function")return n();if(n?.nodeName||Array.isArray(n))return n}return console.log("unkown type in render: ",n),!1}).flat(1/0).filter(n=>!!n);return s.find(n=>!n?.nodeName)?$(s,t,i,p,c,o):s},v=(e,t,i,p,c)=>{if(!Array.isArray(e))return;t.skruvActiveGenerators=new Set;let o=Array.from(t.childNodes),s=$(e,t,i,p,c);o.slice(s.length).forEach(n=>{!p&&n.parentNode&&n.parentNode.removeChild&&n.parentNode.removeChild(n),!c?.isSkruvSSR&&n.dispatchEvent(new CustomEvent("remove"))}),s.forEach((n,a)=>{let x=o[a];g(n,x,t,i,p,c)})},g=(e,t,i,p,c,o)=>{if(!e.nodeName)return;let s;if(e.attributes?.key&&_.has(e.attributes?.key)){let n=_.get(e.attributes?.key);t&&n!==t&&!c&&i.replaceChild&&i.replaceChild(n,t),t||!c&&i.append&&i.append(n),G(e,n,i,c,o),!e?.attributes?.opaque&&(e.childNodes.length||n.childNodes.length)&&v(e.childNodes,n,p,c,o);return}t?t.nodeName.toLowerCase()!==e.nodeName.toLowerCase()||e.attributes?.key!==t.skruvkey?(s=P(e,p),!c&&i.replaceChild(s,t),e.attributes?.oncreate&&e.attributes.oncreate(s),!o?.isSkruvSSR&&t.dispatchEvent(new CustomEvent("remove",{detail:{newNode:s}}))):(t.data!==e.data&&(t.data=e.data),s=t):(s=P(e,p),!c&&i.append&&i.append(s),e.attributes?.oncreate&&e.attributes.oncreate(s)),e.attributes?.key&&_.set(e.attributes?.key,s),G(e,s,i,c,o),!e?.attributes?.opaque&&(e.childNodes.length||s.childNodes.length)&&v(e.childNodes,s,p,c,o)},Ko=(e,t=document.documentElement,i=t.parentNode,p=!1)=>{if(t.checkRender=()=>{t.renderWaiting.size===0&&typeof t.skruvRenderFinished=="function"&&setTimeout(()=>t.skruvRenderFinished(),0)},t.renderWaiting||(t.renderWaiting=new Set),!i)throw new Error("Skruv: No parent to render to");if(t?.getAttribute?.("data-ssr-rendered")){t.skruvRenderFinished=()=>{g(e,t,i,p,!1,t)},g(e,t,i,p,!0,t),t.checkRender();return}g(e,t,i,p,!1,t),t.checkRender()},D=Ko;
//# sourceMappingURL=skruv.min.cjs.js.map
