var C=Symbol.for("skruvDom"),h="data-skruv-key",m=new WeakMap,j=new WeakMap,M=new WeakMap,y={},A=(s,i=globalThis.document.documentElement,o=i.parentNode,p=!1,K=!1)=>{var v,k,w,b,x,n;if(!o)throw new Error("No parent to render to");if(typeof s=="boolean"){i&&o.removeChild(i);return}let g=typeof s=="string"||typeof s=="number";if(K||!i||g&&(i==null?void 0:i.nodeName)!=="#text"||!g&&(i==null?void 0:i.nodeName.toLowerCase())!==s.t.toLowerCase()){let l=i;if(g?i=document.createTextNode(""+s):p||s.t==="svg"?(p=!0,i=(y[s.t]||(y[s.t]=document.createElementNS("http://www.w3.org/2000/svg",s.t))).cloneNode(!1)):i=(y[s.t]||(y[s.t]=document.createElement(s.t))).cloneNode(!1),l?o.replaceChild(i,l):o.appendChild(i),g)return}if(g){i.textContent!=s&&(i.textContent=""+s);return}s.r&&(s.r=()=>!i||!o.contains(i)?!1:(A(s,i,o,p),!0));let t=s.c.flat(1/0),e={};if(((v=t[0])==null?void 0:v.constructor)===Object&&((k=t[0])==null?void 0:k.s)!==C){e=t[0],t=t.slice(1);for(let l in e)if(l!==h)if(l[0]==="o"&&l[1]==="n"){let f=M.get(i);f||(f={},M.set(i,f));let a=l.slice(2);if(!f[l]||""+f[l]!=""+e[l]){if(a==="create"){setTimeout(()=>e[l](i),0),f[l]=e[l];continue}f[l]&&i.removeEventListener(a,f[l]),i.addEventListener(a,e[l]),f[l]=e[l]}else e[l]||i.removeEventListener(a,f[l])}else e[l]!==i.getAttribute(l)&&((l==="checked"||l==="selected"||l==="value"||typeof e[l]=="object")&&(i[l]=e[l]),e[l]?i.setAttribute(l,""+e[l]):i.removeAttribute(l))}if(!t.length&&i.childNodes.length){if(e["data-skruv-wait-for-not-empty"])return;i.replaceChildren();return}if(i.childNodes.length>t.length)for(let l=i.childNodes.length-1;l>=t.length;l--)i.removeChild(i.childNodes[l]);for(let l=0;l<t.length;l++){let f=!1,a;if(t[l].constructor===Object)if(a=m.get((w=t[l].c[0])==null?void 0:w[h]),a){if(a!==i.childNodes[l]&&(a===i.childNodes[l+1]?i.removeChild(i.childNodes[l]):i.childNodes[l]&&m.get((n=(x=(b=t[l+1])==null?void 0:b.c)==null?void 0:x[0])==null?void 0:n[h])===i.childNodes[l]?i.insertBefore(a,i.childNodes[l]):i.childNodes[l]?i.replaceChild(a,i.childNodes[l]):i.appendChild(a)),f=t[l].c[0][h]!==j.get(i.childNodes[l]),!f){let E=m.get(i.childNodes[l]);if(E){let L=!0;for(let d in t[l].c[0][h])t[l].c[0][h][d]!==E[d]&&(L=!1);if(L)continue}}}else f=m.has(i.childNodes[l]);A(t[l],i.childNodes[l]||!1,i,p&&s.t!=="foreignObject",f)}e[h]&&(m.set(e[h],i),j.set(i,e[h]),m.set(i,{...e[h]}))},O=new Proxy({},{get:(s,i)=>(...o)=>({s:C,t:i,c:o})}),T=(s,...i)=>({s:C,t:s,c:i});export{O as elementFactory,T as h,A as render};
//# sourceMappingURL=index.min.js.map
