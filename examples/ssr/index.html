<!DOCTYPE html><html lang="en-US" class="skruv-css-scope-1654833168"><head><title>Write todos</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>.skruv-css-scope-1654833168 {color: #f1f1f1; background: #0f0f0f;}.skruv-css-scope-1654833168 body {max-width: 40ch; margin: 0 auto;}.skruv-css-scope-1654833168 form {display: flex; align-items: end;}.skruv-css-scope-1654833168 label {flex: 1;}.skruv-css-scope-1654833168 input {width: 100%;}.skruv-css-scope-1654833168 a {color: #9b9b9b;}</style><link rel="icon" href="/icon.svg" type="image/svg+xml" sizes="any"/><meta name="description" content="Skruv todo-list"/></head><body><main><h1>Write todos</h1><form><label>What do you need to do?<input type="text" name="todo"/></label><button>New!</button></form><ol><li>Write todos <a href="#">x</a></li></ol></main><script type="module">var v=Symbol.for("skruvDom"),b="data-skruv-key",G="http://www.w3.org/1999/xhtml",Q="http://www.w3.org/2000/svg",X="http://www.w3.org/1998/Math/MathML",S=new WeakMap,L=new WeakMap,F=new WeakMap,W={},P=(t,e=globalThis.document.documentElement,f=e.parentNode,m=G,n=!1)=>{var h,d,u,w,p,O;if(!f)throw new Error("No parent to render to");if(typeof t=="boolean"){e&&f.removeChild(e);return}let o=typeof t=="string"||typeof t=="number";if(n||!e||o&&e.nodeName!=="#text"||!o&&e.nodeName.toLowerCase()!==t.t.toLowerCase()){let s=e;if(o?e=document.createTextNode(""+t):(t.t==="svg"&&(m=Q),t.t==="math"&&(m=X),e=(W[t.t]||(W[t.t]=document.createElementNS(m,t.t))).cloneNode(!1)),s?f.replaceChild(e,s):f.appendChild(e),o)return}if(o){e.textContent!=t&&(e.textContent=""+t);return}t.r&&(t.r=()=>!e||!f.contains(e)?!1:(P(t,e,f,m),!0)),t.t==="foreignObject"&&(m=G);let r=t.c.flat(1/0),l={};if(((h=r[0])==null?void 0:h.constructor)===Object&&((d=r[0])==null?void 0:d.s)!==v){l=r[0],r=r.slice(1);for(let s in l)if(s!==b)if(s[0]==="o"&&s[1]==="n"){let i=F.get(e);i||(i={},F.set(e,i));let c=s.slice(2);if(!i[s]||""+i[s]!=""+l[s]){if(c==="create"){setTimeout(()=>l[s](e),0),i[s]=l[s];continue}i[s]&&e.removeEventListener(c,i[s]),e.addEventListener(c,l[s]),i[s]=l[s]}else l[s]||e.removeEventListener(c,i[s])}else l[s]!==e.getAttribute(s)&&((s==="checked"||s==="selected"||s==="value"||typeof l[s]=="object")&&(e[s]=l[s]),l[s]?e.setAttribute(s,""+l[s]):e.removeAttribute(s))}if(!r.length&&e.childNodes.length){if(l["data-skruv-wait-for-not-empty"])return;e.replaceChildren();return}if(e.childNodes.length>r.length)for(let s=e.childNodes.length-1;s>=r.length;s--)e.removeChild(e.childNodes[s]);for(let s=0;s<r.length;s++){let i=!1,c;if(r[s].constructor===Object)if(c=S.get((u=r[s].c[0])==null?void 0:u[b]),c){if(c!==e.childNodes[s]&&(c===e.childNodes[s+1]?e.removeChild(e.childNodes[s]):e.childNodes[s]&&S.get((O=(p=(w=r[s+1])==null?void 0:w.c)==null?void 0:p[0])==null?void 0:O[b])===e.childNodes[s]?e.insertBefore(c,e.childNodes[s]):e.childNodes[s]?e.replaceChild(c,e.childNodes[s]):e.appendChild(c)),i=r[s].c[0][b]!==L.get(e.childNodes[s]),!i){let a=S.get(e.childNodes[s]);if(a){let y=!0;for(let k in r[s].c[0][b])r[s].c[0][b][k]!==a[k]&&(y=!1);if(y)continue}}}else i=S.has(e.childNodes[s]);P(r[s],e.childNodes[s]||!1,e,m,i)}l[b]&&(S.set(l[b],e),L.set(e,l[b]),S.set(e,{...l[b]}))},z=new Proxy({},{get:(t,e)=>(...f)=>({s:v,t:e,c:f})});var R=()=>{},I=new Promise(t=>{R=t}),T=new Map,Y=t=>{let e=0;if(t.length===0)return e.toString();for(let f=0;f<t.length;f++)e=(e<<5)-e+t.charCodeAt(f),e|=0;return e.toString()},V=(t,...e)=>{var s;let f=t.reduce((i,c,a)=>{var y;return i.push(c),i.push(((y=e==null?void 0:e[a])==null?void 0:y.toString())||""),i},[]).join(""),m=/^\[.*?(?:(["'])(?:.|\\\1)*\1.*)*\]/,n=/([([,]|:scope\b)/,o=/^:scope\b/;function r(i,c){let a=i.search(n);if(a===-1)return{selector:`${c} ${i}`,rest:""};if(i[a]===",")return{selector:`${c} ${i.substring(0,a)}`,rest:i.substring(a+1)};let y=!0,k=!1;a=i.search(/\S/);let C=0;t:for(;a<i.length;++a){let E=i[a];switch(E){case"[":{let D=m.exec(i.substring(a));a+=(D?D[0].length:1)-1;continue}case"(":++C;continue;case":":if(y)if(o.test(i.substring(a))){if(C)return null}else continue;else continue;i=i.substring(0,a)+c+i.substring(a+6),a+=c.length,k=!0,--a;continue;case")":C&&--C;continue}if(!C)switch(E){case",":break t;case" ":case">":case"~":case"+":if(!y)continue;y=!1}}return{selector:(k?"":`${c} `)+i.substring(0,a),rest:i.substring(a+1)}}function l(i,c){let a=[];for(;i;){let y=r(i,c);if(y===null)return":not(*)";a.push(y.selector),i=y.rest}return a.join(", ")}function h(i,c){if(i instanceof CSSMediaRule){let a=i.cssRules.length;for(let y=0;y<a;++y)h(i.cssRules[y],c);return}i instanceof CSSStyleRule&&(i.selectorText=l(i.selectorText,c))}let d=Y(f),u=`skruv-css-scope-${d}`,w=`.${u}`;if(T.has(d))return u;let p;if(!(globalThis!=null&&globalThis.CSSOM)&&!((s=globalThis.document)!=null&&s.implementation))throw new Error("No css parser available. Either add CSSOM to globalThis or run in browser.");if(globalThis!=null&&globalThis.CSSOM)p=CSSOM.parse(f);else{let i=globalThis.document.implementation.createHTMLDocument(""),c=i.createElementNS("http://www.w3.org/1999/xhtml","style");c.innerText=f,i.body.append(c),p=c.sheet,i.body.removeChild(c)}Array.from((p==null?void 0:p.cssRules)||[]).forEach(i=>h(i,w));let O=Array.from((p==null?void 0:p.cssRules)||[]).map(i=>i.cssText||"").join("");return T.set(d,O),R(),u};async function*H(){for(yield Array.from(T.values()).join("");;)await I,yield Array.from(T.values()).join(""),I=new Promise(t=>{R=t})}var J=t=>{let e=class ${constructor(){this._scheduled=!1,this._skruv_promise=new Promise(n=>{this._skruv_resolve=n})}_resolve(){this._skruv_parent&&this._skruv_parent._resolve&&this._skruv_parent._resolve(),!this._scheduled&&(this._scheduled=!0,setTimeout(()=>{this._skruv_resolve(""),this._skruv_promise=new Promise(n=>{this._skruv_resolve=n}),this._scheduled=!1},0))}set(n,o,r){return o==="_skruv_parent"?(this._skruv_parent=r,!0):(n[o]!==r&&(n[o]=this.recurse(o,r,n)),!0)}get(n,o,r){return o==="getGenerator"?l=>({key:[l,n],[Symbol.asyncIterator]:()=>{let h=!1;return{next:async()=>(h?await this._skruv_promise:h=!0,{done:!1,value:r[l]})}}}):o==="toJSON"?n.constructor===Object?Object.getOwnPropertyNames(n).reduce((l,h)=>{var d;return l[h]=((d=n[h])==null?void 0:d.toJSON)||n[h],l},{}):n.constructor===Array?n.map(l=>(l==null?void 0:l.toJSON)||l):n:o===Symbol.asyncIterator?()=>{let l=!1;return{next:async()=>(l?await this._skruv_promise:l=!0,{done:!1,value:r})}}:n[o]}deleteProperty(n,o){let r=delete n[o];return this._resolve(),r}recurse(n,o,r){var l;if(o&&o.constructor)if(o.constructor===Object&&((l=r==null?void 0:r[n])==null?void 0:l.constructor)===Object){for(let h of Object.getOwnPropertyNames(o))r[n][h]!==o[h]&&(r[n][h]=o[h]);for(let h of Object.getOwnPropertyNames(r[n]).filter(d=>!Object.getOwnPropertyNames(o).includes(d)))delete r[n][h],this._resolve();return r[n]}else if(o.constructor===Object){let h=new $;o=Object.keys(o).reduce((d,u)=>(d[u]=this.recurse(`${n}.${u}`,o[u]),typeof d[u]=="object"&&d[u]!==null&&(d[u]._skruv_parent=h),d),{}),o=new Proxy(o,h),o._skruv_parent=this,this._resolve()}else if(o.constructor===Array){let h=new $;o=o.map((d,u)=>{let w=this.recurse(`${n}[${u}]`,d);return typeof w=="object"&&w!==null&&(w._skruv_parent=h),w}),o=new Proxy(o,h),o._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return o}},f=new Proxy(t.constructor===Array?[]:{},new e("root"));return Object.assign(f,t),f};var K=Symbol.for("skruvDom"),g=!0,_=new WeakMap,M=()=>{},U=new Promise(t=>{M=()=>{g=!1,setTimeout(()=>t(""),0)}}),x=new Set,B=(t,e,f,m,n)=>{var o,r;return g&&!(typeof n=="object"&&"c"in n&&((r=(o=n==null?void 0:n.c)==null?void 0:o[0])==null?void 0:r["data-skruv-finished"])===!1)&&(x.delete(t),x.size||M()),_.set(t,n),f[e]=n,m.r?m.r():!0},j=(t,e=null,f=null,m=null,n=!0)=>{if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||t===null)return t;if(_.has(t))return _.get(t);if(e&&f&&m){if(typeof t=="object"&&Symbol.asyncIterator in t||typeof t=="function"&&t.constructor.name==="AsyncGeneratorFunction")return g&&x.add(t),_.set(t,null),(async()=>{for await(let o of typeof t=="function"?t():t)if(!B(t,e,f,m,j(o,e,f,m,!1)))break})(),null;if(typeof t=="object"&&"then"in t&&typeof t.then=="function"||typeof t=="function"&&t.constructor.name==="AsyncFunction")return g&&x.add(t),_.set(t,null),(async()=>B(t,e,f,m,j(await(typeof t=="function"?t():t),e,f,m,!1)))(),null;if(typeof t=="function"){if(e[0]==="o"&&e[1]==="n"||e==="r"&&(f==null?void 0:f.s)===K)return t;let o=j(t(),e,f,m,!1);return _.set(t,o),o}}if(typeof t=="object"){let o={},r=o;t.s===K?o.r=()=>((g&&!x.size||!g)&&M(),!0):m!=null&&m.r&&(r=m),Array.isArray(t)&&(o=[]);for(let l in t){let h=j(t[l],l,o,r,!1);(h!==null||t[l]===null)&&(o[l]=h)}return(n&&g&&!x.size||!g)&&M(),o}return t};var{html:Z,head:N,title:tt,meta:q,link:et,body:st,main:ot,h1:it,form:nt,label:rt,input:lt,button:ft,ol:ct,li:ht,a:at,style:mt,script:dt}=z,A=J({todos:["Write todos"]}),yt=V`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex;align-items:end}label{flex:1}input{width:100%}a{color:#9b9b9b}`,ut=j(Z({lang:"en-US",class:yt},N(tt(A.todos.getGenerator(0)),q({name:"viewport",content:"width=device-width, initial-scale=1"}),mt(H),et({rel:"icon",href:"/icon.svg",type:"image/svg+xml",sizes:"any"}),q({name:"description",content:"Skruv todo-list"})),st(ot(it(A.todos.getGenerator(0)),nt({onsubmit:t=>{t.preventDefault(),A.todos.unshift(new FormData(t.target).get("todo"))&&t.target.reset()}},rt("What do you need to do?",lt({type:"text",name:"todo"})),ft("New!")),async function*(){for await(let t of A)yield ct(t.todos.map((e,f)=>ht(`${e} `,at({href:"#",onclick:m=>{m.preventDefault(),t.todos.splice(f,1)}},"x"))))}),!!globalThis.skruvSSRScript&&dt({type:"module"},globalThis.skruvSSRScript)))),pt=async()=>{await U,P(ut),await new Promise(t=>setTimeout(t,0))};pt();export{pt as doRender};
//# sourceMappingURL=index.min.js.map
</script></body></html>