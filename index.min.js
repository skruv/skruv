var v=Symbol.for("skruvDom"),h="data-skruv-key",m=new WeakMap,j=new WeakMap,A=new WeakMap,y={},K=(s,l=globalThis.document.documentElement,o=l.parentNode,p=!1,W=!1)=>{var k,C,b,w,x,d,E,_;if(typeof s=="boolean"){l&&o.removeChild(l);return}let g=typeof s=="string"||typeof s=="number";if(W||!l||g&&(l==null?void 0:l.nodeName)!=="#text"||!g&&(l==null?void 0:l.nodeName.toLowerCase())!==s.t.toLowerCase()){let i=l;if(g?l=document.createTextNode(s):p||s.t==="svg"?(p=!0,l=(y[s.t]||(y[s.t]=document.createElementNS("http://www.w3.org/2000/svg",s.t))).cloneNode(!1)):l=(y[s.t]||(y[s.t]=document.createElement(s.t))).cloneNode(!1),i?o.replaceChild(l,i):o.appendChild(l),g)return;(k=s.c[0])!=null&&k.oncreate&&((C=s==null?void 0:s.c[0])==null||C.oncreate(l))}if(g){l.data!=s&&(l.data=s);return}s._r&&(s._r._r=()=>!l||!o.contains(l)?!1:(K(s,l,o,p),!0));let e=s.c.flat(1/0),f={};if(((b=e[0])==null?void 0:b.constructor)===Object&&((w=e[0])==null?void 0:w.s)!==v){f=e[0],e=e.slice(1);for(let i in f)if(!(i===h||i[0]==="_"))if(i[0]==="o"&&i[1]==="n"){let t=A.get(l);t||(t={},A.set(l,t));let a=i.slice(2);!t[i]||""+t[i]!=""+f[i]?(t[i]&&l.removeEventListener(a,t[i]),l.addEventListener(a,f[i]),t[i]=f[i]):f[i]||l.removeEventListener(a,t[i])}else f[i]!==l.getAttribute(i)&&((i==="checked"||i==="selected"||i==="value"||typeof f[i]=="object")&&(l[i]=f[i]),f[i]?l.setAttribute(i,""+f[i]):l.removeAttribute(i))}if(!e.length&&l.childNodes.length){if(f["data-skruv-wait-for-not-empty"])return;l.replaceChildren();return}if(l.childNodes.length>e.length)for(let i=e.length;i<l.childNodes.length;i++)l.removeChild(l.childNodes[i]);for(let i=0;i<e.length;i++){let t=!1,a;if(e[i].constructor===Object)if(a=m.get((x=e[i].c[0])==null?void 0:x[h]),a){if(a!==l.childNodes[i]&&(a===l.childNodes[i+1]?l.removeChild(l.childNodes[i]):m.get((_=(E=(d=e[i+1])==null?void 0:d.c)==null?void 0:E[0])==null?void 0:_[h])===l.childNodes[i]?l.insertBefore(a,l.childNodes[i]):l.childNodes[i]?l.replaceChild(a,l.childNodes[i]):l.appendChild(a)),t=e[i].c[0][h]!==j.get(l.childNodes[i]),!t){let F=m.get(l.childNodes[i]),L=!0;for(let M in e[i].c[0][h])e[i].c[0][h][M]!==F[M]&&(L=!1);if(L)continue}}else t=m.has(l.childNodes[i]);K(e[i],l.childNodes[i]||!1,l,p,t)}f[h]&&(m.set(f[h],l),j.set(l,f[h]),m.set(l,{...f[h]}))},O=new Proxy({},{get:(s,l)=>(...o)=>({s:v,t:l,c:o})}),T=(s,...l)=>({s:v,t:s,c:l});export{O as elementFactory,T as h,K as render};
//# sourceMappingURL=index.min.js.map
