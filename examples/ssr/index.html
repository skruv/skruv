<!DOCTYPE html><html lang="en-US" class="skruv-css-scope-84178892"><head><title>Write todos</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>.skruv-css-scope-84178892 {color: #f1f1f1; background: #0f0f0f;}.skruv-css-scope-84178892 body {max-width: 40ch; margin: 0 auto;}.skruv-css-scope-84178892 form {display: flex;}.skruv-css-scope-84178892 input {flex: 1;}.skruv-css-scope-84178892 a {color: #9b9b9b;}</style></head><body><main><h1>Write todos</h1><form><input type="text" name="todo"/><button>New!</button></form><ol><li>Write todos <a href="#">x</a></li></ol></main><script type="module">var N=Symbol.for(&quot;skruvDom&quot;);var V=(e,...n)=&gt;{var r,d;return{s:N,t:e.toUpperCase(),...typeof n[0]==&quot;object&quot;&amp;&amp;!Array.isArray(n[0])&amp;&amp;!(n[0]instanceof Function)&amp;&amp;!((r=n[0])!=null&amp;&amp;r[Symbol.asyncIterator])&amp;&amp;((d=n[0])==null?void 0:d.s)!==N?{a:n[0],c:n.slice(1)}:{a:{},c:n}}},_=new WeakMap,g={},T=(e,n=globalThis.document.documentElement,r=n==null?void 0:n.parentNode,d=!1)=&gt;{var l,h;if(typeof e==&quot;boolean&quot;||e===null)return!0;if(!r||!r.ownerDocument)throw new Error(&quot;no parentNode!&quot;);if(!globalThis.document.documentElement.contains(r))return!1;let t=n,s=[],f=t==null?void 0:t.nodeName;if(!t||f!==(e==null?void 0:e.t)||(typeof e==&quot;string&quot;||typeof e==&quot;number&quot;)&amp;&amp;f!==&quot;#text&quot;?(typeof e==&quot;string&quot;||typeof e==&quot;number&quot;?t=(g.text||(g.text=r.ownerDocument.createTextNode(&quot;&quot;))).cloneNode():d||e.t===&quot;svg&quot;?t=(g[e.t]||(g[e.t]=r.ownerDocument.createElementNS(&quot;http://www.w3.org/2000/svg&quot;,e.t))).cloneNode():t=(g[e.t]||(g[e.t]=r.ownerDocument.createElement(e.t))).cloneNode(),n?r.replaceChild(t,n):r.appendChild(t)):s=Array.from(t.childNodes),t instanceof Text&amp;&amp;(typeof e==&quot;string&quot;||typeof e==&quot;number&quot;))return t.data.toString()!==e.toString()&amp;&amp;(t.data=e),!0;if(!(t instanceof Element)||typeof e!=&quot;object&quot;)return!0;e._r&amp;&amp;(e._r._r=()=&gt;T(e,t,r,d)),e.a._r&amp;&amp;(e.a._r._r=()=&gt;T(e,t,r,d));for(let o in e.a)o[0]!==&quot;_&quot;&amp;&amp;(o[0]===&quot;o&quot;&amp;&amp;o[1]===&quot;n&quot;?!t[&quot;data-event-&quot;+o]||((l=t[&quot;data-event-&quot;+o])==null?void 0:l.toString())!==((h=e.a[o])==null?void 0:h.toString())?(t[&quot;data-event-&quot;+o]&amp;&amp;t.removeEventListener(o.slice(2),t[&quot;data-event-&quot;+o]),t.addEventListener(o.slice(2),e.a[o]),t[&quot;data-event-&quot;+o]=e.a[o]):e.a[o]||t.removeEventListener(o.slice(2),t[&quot;data-event-&quot;+o]):e.a[o]!==t.getAttribute(o)&amp;&amp;((typeof e.a[o]==&quot;boolean&quot;&amp;&amp;(t instanceof HTMLInputElement&amp;&amp;o===&quot;checked&quot;||t instanceof HTMLOptionElement&amp;&amp;o===&quot;selected&quot;)||typeof e.a[o]==&quot;object&quot;)&amp;&amp;(t[o]=e.a[o]),e.a[o]?t.setAttribute(o,e.a[o].toString()):t.removeAttribute(o)));let c=e.c.flat(1/0);if(!c.length&amp;&amp;s.length)return t.replaceChildren(),!0;if(s.length&gt;c.length)for(let o=c.length;o&lt;s.length;o++)t.removeChild(s[o]);for(let o=0;o&lt;c.length;o++){if(_.has(c[o])){let y=_.get(c[o]);y&amp;&amp;y!==t.childNodes[o]&amp;&amp;(y===t.childNodes[o+1]?t.removeChild(t.childNodes[o]):_.has(c[o+1])&amp;&amp;_.get(c[o+1])===t.childNodes[o]?t.insertBefore(y,t.childNodes[o]):t.childNodes[o]?t.replaceChild(y,t.childNodes[o]):t.appendChild(y),_.set(c[o],t.childNodes[o]));continue}T(c[o],s[o]||!1,t,d)}return _.set(e,t),!0},M=new Proxy({},{get:(e,n)=&gt;(...r)=&gt;V(n,...r)});var C=()=&gt;{},D=new Promise(e=&gt;{C=e}),O=new Map,z=e=&gt;{let n=0;if(e.length===0)return n.toString();for(let r=0;r&lt;e.length;r++)n=(n&lt;&lt;5)-n+e.charCodeAt(r),n|=0;return n.toString()},F=(e,...n)=&gt;{var E;let r=e.reduce((i,m,a)=&gt;{var u;return i.push(m),i.push(((u=n==null?void 0:n[a])==null?void 0:u.toString())||&quot;&quot;),i},[]).join(&quot;&quot;),d=/^\[.*?(?:([&quot;&#39;])(?:.|\\\1)*\1.*)*\]/,t=/([([,]|:scope\b)/,s=/^:scope\b/;function f(i,m){let a=i.search(t);if(a===-1)return{selector:`${m} ${i}`,rest:&quot;&quot;};if(i[a]===&quot;,&quot;)return{selector:`${m} ${i.substring(0,a)}`,rest:i.substring(a+1)};let u=!0,$=!1;a=i.search(/\S/);let j=0;e:for(;a&lt;i.length;++a){let R=i[a];switch(R){case&quot;[&quot;:{let k=d.exec(i.substring(a));a+=(k?k[0].length:1)-1;continue}case&quot;(&quot;:++j;continue;case&quot;:&quot;:if(u)if(s.test(i.substring(a))){if(j)return null}else continue;else continue;i=i.substring(0,a)+m+i.substring(a+6),a+=m.length,$=!0,--a;continue;case&quot;)&quot;:j&amp;&amp;--j;continue}if(!j)switch(R){case&quot;,&quot;:break e;case&quot; &quot;:case&quot;&gt;&quot;:case&quot;~&quot;:case&quot;+&quot;:if(!u)continue;u=!1}}return{selector:($?&quot;&quot;:`${m} `)+i.substring(0,a),rest:i.substring(a+1)}}function c(i,m){let a=[];for(;i;){let u=f(i,m);if(u===null)return&quot;:not(*)&quot;;a.push(u.selector),i=u.rest}return a.join(&quot;, &quot;)}function l(i,m){if(i instanceof CSSMediaRule){let a=i.cssRules.length;for(let u=0;u&lt;a;++u)l(i.cssRules[u],m);return}i instanceof CSSStyleRule&amp;&amp;(i.selectorText=c(i.selectorText,m))}let h=z(r),o=`skruv-css-scope-${h}`,y=`.${o}`;if(O.has(h))return o;let b;if(!(globalThis!=null&amp;&amp;globalThis.CSSOM)&amp;&amp;!((E=globalThis.document)!=null&amp;&amp;E.implementation))throw new Error(&quot;No css parser available. Either add CSSOM to globalThis or run in browser.&quot;);if(globalThis!=null&amp;&amp;globalThis.CSSOM)b=CSSOM.parse(r);else{let i=globalThis.document.implementation.createHTMLDocument(&quot;&quot;),m=i.createElement(&quot;style&quot;);m.innerText=r,i.body.append(m),b=m.sheet,i.body.removeChild(m)}Array.from((b==null?void 0:b.cssRules)||[]).forEach(i=&gt;l(i,y));let H=Array.from((b==null?void 0:b.cssRules)||[]).map(i=&gt;i.cssText||&quot;&quot;).join(&quot;&quot;);return O.set(h,H),C(),o};async function*G(){for(yield Array.from(O.values()).join(&quot;&quot;);;)await D,yield Array.from(O.values()).join(&quot;&quot;),D=new Promise(e=&gt;{C=e})}var J=(globalThis==null?void 0:globalThis.requestAnimationFrame)||(e=&gt;setTimeout(e,0)),I=e=&gt;{let n=class{constructor(t){this.name=t,this._scheduled=!1,this._skruv_promise=new Promise(s=&gt;{this._skruv_resolve=s})}_resolve(){this._skruv_parent&amp;&amp;this._skruv_parent._resolve&amp;&amp;this._skruv_parent._resolve(),!this._scheduled&amp;&amp;(this._scheduled=!0,J(()=&gt;{this._skruv_resolve(),this._skruv_promise=new Promise(t=&gt;{this._skruv_resolve=t}),this._scheduled=!1}))}set(t,s,f){return s===&quot;_skruv_parent&quot;?(this._skruv_parent=f,!0):(t[s]!==f&amp;&amp;(t[s]=this.recurse(s,f,t)),!0)}get(t,s,f){return s===&quot;getGenerator&quot;?c=&gt;({key:[c,t],[Symbol.asyncIterator]:()=&gt;{let l=!1;return{next:async()=&gt;(l?await this._skruv_promise:l=!0,{done:!1,value:f[c]})}}}):s===&quot;skruv_resolve&quot;?()=&gt;this._resolve():s===&quot;toJSON&quot;?t.constructor===Object?Object.getOwnPropertyNames(t).reduce((c,l)=&gt;{var h;return c[l]=((h=t[l])==null?void 0:h.toJSON)||t[l],c},{}):t.constructor===Array?t.map(c=&gt;(c==null?void 0:c.toJSON)||c):t:s===Symbol.asyncIterator?()=&gt;{let c=!1;return{next:async()=&gt;(c?await this._skruv_promise:c=!0,{done:!1,value:f})}}:t[s]}deleteProperty(t,s){let f=delete t[s];return this._resolve(),f}recurse(t,s,f){var c;if(s&amp;&amp;s.constructor)if(s.constructor===Object&amp;&amp;((c=f==null?void 0:f[t])==null?void 0:c.constructor)===Object){for(let l of Object.getOwnPropertyNames(s))f[t][l]!==s[l]&amp;&amp;(f[t][l]=s[l]);for(let l of Object.getOwnPropertyNames(f[t]).filter(h=&gt;!Object.getOwnPropertyNames(s).includes(h)))delete f[t][l],this._resolve();return f[t]}else if(s.constructor===Object){let l=new this.constructor(`${this.name}.${t}`);s=Object.keys(s).reduce((h,o)=&gt;(h[o]=this.recurse(`${t}.${o}`,s[o]),typeof h[o]==&quot;object&quot;&amp;&amp;h[o]!==null&amp;&amp;(h[o]._skruv_parent=l),h),{}),s=new Proxy(s,l),s._skruv_parent=this,this._resolve()}else if(s.constructor===Array){let l=new this.constructor(`${this.name}.${t}`);s=s.map((h,o)=&gt;{let y=this.recurse(`${t}[${o}]`,h);return typeof y==&quot;object&quot;&amp;&amp;y!==null&amp;&amp;(y._skruv_parent=l),y}),s=new Proxy(s,l),s._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return s}},r=new Proxy(e.constructor===Array?[]:{},new n(&quot;root&quot;));return Object.assign(r,e),r};var p=!0,S=new WeakMap,A=()=&gt;{},de=new Promise(e=&gt;{A=()=&gt;e(!0)}),w=new Set,L=(e,n,r,d,t)=&gt;{var s;return p&amp;&amp;!(typeof t==&quot;object&quot;&amp;&amp;&quot;a&quot;in t&amp;&amp;((s=t==null?void 0:t.a)==null?void 0:s[&quot;data-skruv-finished&quot;])===!1)&amp;&amp;(w.delete(e),w.size||(p=!1,A())),S.set(e,t),r[n]=t,d._r._r()},x=(e,n,r,d,t=!0)=&gt;{if(typeof e==&quot;string&quot;||typeof e==&quot;number&quot;||typeof e==&quot;boolean&quot;||e===null)return e;if(S.has(e))return S.get(e);if(typeof e==&quot;object&quot;&amp;&amp;Symbol.asyncIterator in e||typeof e==&quot;function&quot;&amp;&amp;e.constructor.name===&quot;AsyncGeneratorFunction&quot;)return p&amp;&amp;w.add(e),S.set(e,null),(async()=&gt;{for await(let s of typeof e==&quot;function&quot;?e():e)if(!L(e,n,r,d,x(s,n,r,d,!1)))break})(),null;if(typeof e==&quot;object&quot;&amp;&amp;&quot;then&quot;in e&amp;&amp;typeof e.then==&quot;function&quot;||typeof e==&quot;function&quot;&amp;&amp;e.constructor.name===&quot;AsyncFunction&quot;)return p&amp;&amp;w.add(e),S.set(e,null),(async()=&gt;L(e,n,r,d,x(await(typeof e==&quot;function&quot;?e():e),n,r,d,!1)))(),null;if(typeof e==&quot;function&quot;){if(typeof n==&quot;string&quot;&amp;&amp;(n[0]===&quot;o&quot;&amp;&amp;n[1]===&quot;n&quot;||n[0]===&quot;_&quot;))return e;let s=x(e(),n,r,d,!1);return S.set(e,s),s}if(typeof e==&quot;object&quot;){let s={_r:{_r:()=&gt;((p&amp;&amp;!w.size||!p)&amp;&amp;(p=!1,A()),!0)}},f=s;Array.isArray(e)&amp;&amp;(s=[],f=d);for(let c in e){let l=x(e[c],c,s,f,!1);(l!==null||e[c]===null)&amp;&amp;(s[c]=l)}return(t&amp;&amp;p&amp;&amp;!w.size||!p)&amp;&amp;(p=!1,A()),s}return e};var{html:W,head:U,title:q,meta:v,body:B,main:K,h1:Q,form:X,input:Y,button:Z,ol:ee,li:te,a:oe,style:se,script:ne}=M,P=I({todos:[&quot;Write todos&quot;]}),ie=F`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex}input{flex:1}a{color:#9b9b9b}`;T(x(W({lang:&quot;en-US&quot;,class:ie},U(q(P.todos.getGenerator(0)),v({name:&quot;viewport&quot;,content:&quot;width=device-width, initial-scale=1&quot;}),se(G)),B(K(Q(P.todos.getGenerator(0)),X({onsubmit:e=&gt;{e.preventDefault(),P.todos.unshift(new FormData(e.target).get(&quot;todo&quot;)),e.target.reset()}},Y({type:&quot;text&quot;,name:&quot;todo&quot;}),Z(&quot;New!&quot;)),async function*(){for await(let e of P)yield ee(e.todos.map((n,r)=&gt;te(`${n} `,oe({href:&quot;#&quot;,onclick:d=&gt;{d.preventDefault(),e.todos.splice(r,1)}},&quot;x&quot;))))}),!!globalThis.skruvSSRScript&amp;&amp;ne({type:&quot;module&quot;},globalThis.skruvSSRScript)))));
//# sourceMappingURL=index.min.js.map
</script></body></html>