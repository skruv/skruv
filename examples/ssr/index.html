<!DOCTYPE html><html lang="en-US" class="skruv-css-scope-1654833168"><head><title>Write todos</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>.skruv-css-scope-1654833168 {color: #f1f1f1; background: #0f0f0f;}.skruv-css-scope-1654833168 body {max-width: 40ch; margin: 0 auto;}.skruv-css-scope-1654833168 form {display: flex; align-items: end;}.skruv-css-scope-1654833168 label {flex: 1;}.skruv-css-scope-1654833168 input {width: 100%;}.skruv-css-scope-1654833168 a {color: #9b9b9b;}</style><link rel="icon" href="/icon.svg" type="image/svg+xml" sizes="any"/><meta name="description" content="Skruv todo-list"/></head><body><main><h1>Write todos</h1><form><label>What do you need to do?<input type="text" name="todo"/></label><button>New!</button></form><ol><li>Write todos <a href="#">x</a></li></ol></main><script type="module">var v=Symbol.for("skruvDom"),u="data-skruv-key",w=new WeakMap,L=new WeakMap,W=new WeakMap,k={},P=(e,t=globalThis.document.documentElement,c=t.parentNode,m=!1,i=!1)=>{var a,d,y,_,p,T,C,n;if(!c)throw new Error("No parent to render to");if(typeof e=="boolean"){t&&c.removeChild(t);return}let o=typeof e=="string"||typeof e=="number";if(i||!t||o&&(t==null?void 0:t.nodeName)!=="#text"||!o&&(t==null?void 0:t.nodeName.toLowerCase())!==e.t.toLowerCase()){let s=t;if(o?t=document.createTextNode(""+e):m||e.t==="svg"?(m=!0,t=(k[e.t]||(k[e.t]=document.createElementNS("http://www.w3.org/2000/svg",e.t))).cloneNode(!1)):t=(k[e.t]||(k[e.t]=document.createElement(e.t))).cloneNode(!1),s?c.replaceChild(t,s):c.appendChild(t),o)return;(a=e.c[0])!=null&&a.oncreate&&((d=e==null?void 0:e.c[0])==null||d.oncreate(t))}if(o){t.textContent!=e&&(t.textContent=""+e);return}e._r&&(e._r._r=()=>!t||!c.contains(t)?!1:(P(e,t,c,m),!0));let r=e.c.flat(1/0),l={};if(((y=r[0])==null?void 0:y.constructor)===Object&&((_=r[0])==null?void 0:_.s)!==v){l=r[0],r=r.slice(1);for(let s in l)if(!(s===u||s[0]==="_"))if(s[0]==="o"&&s[1]==="n"){let f=W.get(t);f||(f={},W.set(t,f));let h=s.slice(2);!f[s]||""+f[s]!=""+l[s]?(f[s]&&t.removeEventListener(h,f[s]),t.addEventListener(h,l[s]),f[s]=l[s]):l[s]||t.removeEventListener(h,f[s])}else l[s]!==t.getAttribute(s)&&((s==="checked"||s==="selected"||s==="value"||typeof l[s]=="object")&&(t[s]=l[s]),l[s]?t.setAttribute(s,""+l[s]):t.removeAttribute(s))}if(!r.length&&t.childNodes.length){if(l["data-skruv-wait-for-not-empty"])return;t.replaceChildren();return}if(t.childNodes.length>r.length)for(let s=r.length;s<t.childNodes.length;s++)t.removeChild(t.childNodes[s]);for(let s=0;s<r.length;s++){let f=!1,h;if(r[s].constructor===Object)if(h=w.get((p=r[s].c[0])==null?void 0:p[u]),h){if(h!==t.childNodes[s]&&(h===t.childNodes[s+1]?t.removeChild(t.childNodes[s]):w.get((n=(C=(T=r[s+1])==null?void 0:T.c)==null?void 0:C[0])==null?void 0:n[u])===t.childNodes[s]?t.insertBefore(h,t.childNodes[s]):t.childNodes[s]?t.replaceChild(h,t.childNodes[s]):t.appendChild(h)),f=r[s].c[0][u]!==L.get(t.childNodes[s]),!f){let O=w.get(t.childNodes[s]);if(O){let g=!0;for(let E in r[s].c[0][u])r[s].c[0][u][E]!==O[E]&&(g=!1);if(g)continue}}}else f=w.has(t.childNodes[s]);P(r[s],t.childNodes[s]||!1,t,m,f)}l[u]&&(w.set(l[u],t),L.set(t,l[u]),w.set(t,{...l[u]}))},z=new Proxy({},{get:(e,t)=>(...c)=>({s:v,t,c})});var $=()=>{},I=new Promise(e=>{$=e}),A=new Map,U=e=>{let t=0;if(e.length===0)return t.toString();for(let c=0;c<e.length;c++)t=(t<<5)-t+e.charCodeAt(c),t|=0;return t.toString()},V=(e,...t)=>{var C;let c=e.reduce((n,s,f)=>{var h;return n.push(s),n.push(((h=t==null?void 0:t[f])==null?void 0:h.toString())||""),n},[]).join(""),m=/^\[.*?(?:(["'])(?:.|\\\1)*\1.*)*\]/,i=/([([,]|:scope\b)/,o=/^:scope\b/;function r(n,s){let f=n.search(i);if(f===-1)return{selector:`${s} ${n}`,rest:""};if(n[f]===",")return{selector:`${s} ${n.substring(0,f)}`,rest:n.substring(f+1)};let h=!0,O=!1;f=n.search(/\S/);let g=0;e:for(;f<n.length;++f){let G=n[f];switch(G){case"[":{let D=m.exec(n.substring(f));f+=(D?D[0].length:1)-1;continue}case"(":++g;continue;case":":if(h)if(o.test(n.substring(f))){if(g)return null}else continue;else continue;n=n.substring(0,f)+s+n.substring(f+6),f+=s.length,O=!0,--f;continue;case")":g&&--g;continue}if(!g)switch(G){case",":break e;case" ":case">":case"~":case"+":if(!h)continue;h=!1}}return{selector:(O?"":`${s} `)+n.substring(0,f),rest:n.substring(f+1)}}function l(n,s){let f=[];for(;n;){let h=r(n,s);if(h===null)return":not(*)";f.push(h.selector),n=h.rest}return f.join(", ")}function a(n,s){if(n instanceof CSSMediaRule){let f=n.cssRules.length;for(let h=0;h<f;++h)a(n.cssRules[h],s);return}n instanceof CSSStyleRule&&(n.selectorText=l(n.selectorText,s))}let d=U(c),y=`skruv-css-scope-${d}`,_=`.${y}`;if(A.has(d))return y;let p;if(!(globalThis!=null&&globalThis.CSSOM)&&!((C=globalThis.document)!=null&&C.implementation))throw new Error("No css parser available. Either add CSSOM to globalThis or run in browser.");if(globalThis!=null&&globalThis.CSSOM)p=CSSOM.parse(c);else{let n=globalThis.document.implementation.createHTMLDocument(""),s=n.createElement("style");s.innerText=c,n.body.append(s),p=s.sheet,n.body.removeChild(s)}Array.from((p==null?void 0:p.cssRules)||[]).forEach(n=>a(n,_));let T=Array.from((p==null?void 0:p.cssRules)||[]).map(n=>n.cssText||"").join("");return A.set(d,T),$(),y};async function*H(){for(yield Array.from(A.values()).join("");;)await I,yield Array.from(A.values()).join(""),I=new Promise(e=>{$=e})}var Q=(globalThis==null?void 0:globalThis.requestAnimationFrame)||(e=>setTimeout(e,0)),J=e=>{let t=class F{constructor(){this._scheduled=!1,this._skruv_promise=new Promise(i=>{this._skruv_resolve=i})}_resolve(){this._skruv_parent&&this._skruv_parent._resolve&&this._skruv_parent._resolve(),!this._scheduled&&(this._scheduled=!0,Q(()=>{this._skruv_resolve(""),this._skruv_promise=new Promise(i=>{this._skruv_resolve=i}),this._scheduled=!1}))}set(i,o,r){return o==="_skruv_parent"?(this._skruv_parent=r,!0):(i[o]!==r&&(i[o]=this.recurse(o,r,i)),!0)}get(i,o,r){return o==="getGenerator"?l=>({key:[l,i],[Symbol.asyncIterator]:()=>{let a=!1;return{next:async()=>(a?await this._skruv_promise:a=!0,{done:!1,value:r[l]})}}}):o==="skruv_resolve"?()=>this._resolve():o==="toJSON"?i.constructor===Object?Object.getOwnPropertyNames(i).reduce((l,a)=>{var d;return l[a]=((d=i[a])==null?void 0:d.toJSON)||i[a],l},{}):i.constructor===Array?i.map(l=>(l==null?void 0:l.toJSON)||l):i:o===Symbol.asyncIterator?()=>{let l=!1;return{next:async()=>(l?await this._skruv_promise:l=!0,{done:!1,value:r})}}:i[o]}deleteProperty(i,o){let r=delete i[o];return this._resolve(),r}recurse(i,o,r){var l;if(o&&o.constructor)if(o.constructor===Object&&((l=r==null?void 0:r[i])==null?void 0:l.constructor)===Object){for(let a of Object.getOwnPropertyNames(o))r[i][a]!==o[a]&&(r[i][a]=o[a]);for(let a of Object.getOwnPropertyNames(r[i]).filter(d=>!Object.getOwnPropertyNames(o).includes(d)))delete r[i][a],this._resolve();return r[i]}else if(o.constructor===Object){let a=new F;o=Object.keys(o).reduce((d,y)=>(d[y]=this.recurse(`${i}.${y}`,o[y]),typeof d[y]=="object"&&d[y]!==null&&(d[y]._skruv_parent=a),d),{}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else if(o.constructor===Array){let a=new F;o=o.map((d,y)=>{let _=this.recurse(`${i}[${y}]`,d);return typeof _=="object"&&_!==null&&(_._skruv_parent=a),_}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return o}},c=new Proxy(e.constructor===Array?[]:{},new t("root"));return Object.assign(c,e),c};var b=!0,S=new WeakMap,R=()=>{},q=new Promise(e=>{R=()=>e(!0)}),x=new Set,K=(e,t,c,m,i)=>{var o;return b&&!(typeof i=="object"&&"a"in i&&((o=i==null?void 0:i.a)==null?void 0:o["data-skruv-finished"])===!1)&&(x.delete(e),x.size||(b=!1,setTimeout(()=>R(),0))),S.set(e,i),c[t]=i,m._r._r()},j=(e,t=null,c=null,m=null,i=!0)=>{if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null)return e;if(S.has(e))return S.get(e);if(t&&c&&m){if(typeof e=="object"&&Symbol.asyncIterator in e||typeof e=="function"&&e.constructor.name==="AsyncGeneratorFunction")return b&&x.add(e),S.set(e,null),(async()=>{for await(let o of typeof e=="function"?e():e)if(!K(e,t,c,m,j(o,t,c,m,!1)))break})(),null;if(typeof e=="object"&&"then"in e&&typeof e.then=="function"||typeof e=="function"&&e.constructor.name==="AsyncFunction")return b&&x.add(e),S.set(e,null),(async()=>K(e,t,c,m,j(await(typeof e=="function"?e():e),t,c,m,!1)))(),null;if(typeof e=="function"){if(typeof t=="string"&&(t[0]==="o"&&t[1]==="n"||t[0]==="_"))return e;let o=j(e(),t,c,m,!1);return S.set(e,o),o}}if(typeof e=="object"){let o={_r:{_r:()=>((b&&!x.size||!b)&&(b=!1,setTimeout(()=>R(),0)),!0)}},r=o;Array.isArray(e)&&(m==null?void 0:m._r)&&(o=[],r=m);for(let l in e){let a=j(e[l],l,o,r,!1);(a!==null||e[l]===null)&&(o[l]=a)}return(i&&b&&!x.size||!b)&&(b=!1,setTimeout(()=>R(),0)),o}return e};var{html:X,head:Y,title:Z,meta:B,link:N,body:ee,main:te,h1:se,form:oe,label:ie,input:ne,button:le,ol:re,li:fe,a:ce,style:ae,script:he}=z,M=J({todos:["Write todos"]}),me=V`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex;align-items:end}label{flex:1}input{width:100%}a{color:#9b9b9b}`,de=j(X({lang:"en-US",class:me},Y(Z(M.todos.getGenerator(0)),B({name:"viewport",content:"width=device-width, initial-scale=1"}),ae(H),N({rel:"icon",href:"/icon.svg",type:"image/svg+xml",sizes:"any"}),B({name:"description",content:"Skruv todo-list"})),ee(te(se(M.todos.getGenerator(0)),oe({onsubmit:e=>{e.preventDefault(),M.todos.unshift(new FormData(e.target).get("todo"))&&e.target.reset()}},ie("What do you need to do?",ne({type:"text",name:"todo"})),le("New!")),async function*(){for await(let e of M)yield re(e.todos.map((t,c)=>fe(`${t} `,ce({href:"#",onclick:m=>{m.preventDefault(),e.todos.splice(c,1)}},"x"))))}),!!globalThis.skruvSSRScript&&he({type:"module"},globalThis.skruvSSRScript)))),ye=async()=>{await q,P(de),await new Promise(e=>setTimeout(e,0))};ye();export{ye as doRender};
//# sourceMappingURL=index.min.js.map
</script></body></html>