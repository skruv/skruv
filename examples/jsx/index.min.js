var f="http://www.w3.org/1999/xhtml",o=new WeakMap,h=new WeakMap,p=new WeakMap,T={},M=(u,t=globalThis.document.documentElement,l=t.parentNode,S=f,H=!1)=>{if(!l)throw new Error("No parent to render to");if(typeof u=="boolean"){t&&l.removeChild(t);return}let k=typeof u=="string"||typeof u=="number";if(H||!t||k&&t.nodeName!=="#text"||!k&&t.nodeName.toLowerCase()!==u.t.toLowerCase()){let i=t;if(k?t=document.createTextNode(""+u):(u.t==="svg"&&(S="http://www.w3.org/2000/svg"),u.t==="math"&&(S="http://www.w3.org/1998/Math/MathML"),u.t==="feed"&&(S="http://www.w3.org/2005/Atom"),(u.t==="urlset"||u.t==="sitemapindex")&&(S="https://www.sitemaps.org/schemas/sitemap/0.9"),t=(T[u.t]||(T[u.t]=document.createElementNS(S,u.t))).cloneNode(!1)),i?l.replaceChild(t,i):l.appendChild(t),k)return}if(k){t.textContent!=u&&(t.textContent=""+u);return}u.r&&(u.r=()=>!t||!l.contains(t)?!1:(M(u,t,l,S),!0)),u.t==="foreignObject"&&(S=f);let s=u.c.flat(1/0);globalThis?.isSkruvSSR||(s=s.filter(i=>!i?.t?.startsWith("skruv")));let b={};if(s[0]?.constructor===Object&&!s[0]?.isSkruvDom){b=s[0],s=s.slice(1);let i=p.get(t);i||(i={},p.set(t,i));for(let[e,r]of Object.entries(b))if(""+i[e]!=""+r&&e!=="skruvKey"){if(e==="skruvAfterCreate"){setTimeout(()=>r(t),0),i[e]=r;continue}if(e[0]==="o"&&e[1]==="n"){let a=e.slice(2);i[e]?r||t.removeEventListener(a,r):(i[e]&&t.removeEventListener(a,r),t.addEventListener(a,r)),i[e]=r;continue}(e==="checked"||e==="selected"||e==="value"||t.nodeName.includes("-"))&&(t[e]=r),r!==void 0?t.setAttribute(e,""+r):t.removeAttribute(e),i[e]=r}}for(let i of t.getAttributeNames().filter(e=>!Object.keys(b).includes(e)))t.removeAttribute(i);if(!s.length&&t.childNodes.length){if(b.skruvWaitForNotEmpty)return;t.replaceChildren();return}if(t.childNodes.length>s.length)for(let i=t.childNodes.length-1;i>=s.length;i--)t.removeChild(t.childNodes[i]);for(let i=0;i<s.length;i++){let e=!1,r;if(s[i]?.c)if(r=o.get(s[i].c[0]?.skruvKey),r){if(r!==t.childNodes[i]&&(r===t.childNodes[i+1]?t.removeChild(t.childNodes[i]):t.childNodes[i]&&o.get(s[i+1]?.c?.[0]?.skruvKey)===t.childNodes[i]?t.insertBefore(r,t.childNodes[i]):t.childNodes[i]?t.replaceChild(r,t.childNodes[i]):t.appendChild(r)),e=s[i].c[0].skruvKey!==h.get(t.childNodes[i]),!e){let a=o.get(t.childNodes[i]);if(a){let n=!0;for(let L in s[i].c[0].skruvKey)s[i].c[0].skruvKey[L]!==a[L]&&(n=!1);if(n)continue}}}else e=o.has(t.childNodes[i]);M(s[i],t.childNodes[i]||!1,t,S,e)}b.skruvKey&&(o.set(b.skruvKey,t),h.set(t,b.skruvKey),o.set(t,{...b.skruvKey}))},y=new Proxy({},{get:(u,t)=>(...l)=>({isSkruvDom:!0,t,c:l})});var m="#fragment",d={svgA:"a",svgScript:"script",svgStyle:"style",svgTitle:"title",atomTitle:"title",atomLink:"link",atomSummary:"summary",atomSource:"source"},A=(u,t={children:[]})=>{if(u=d[u]||u,u===m&&t.children)return t.children;if(u===m)return[];if(typeof u=="function")return u(t,t.children);let{children:l,...S}=t;return l?{isSkruvDom:!0,t:u,c:[S||{},l]}:{isSkruvDom:!0,t:u,c:[S||{}]}},v=A;var c=":root{color:#fff;background:#0f0f0f}",g=u=>v("div",{label:u.a,children:u.children});M(A("html",{lang:"en-US",children:[v(m,{children:A("head",{children:[v("title",{children:"jsx"}),v("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),v("style",{children:c})]})}),A("body",{children:[v(g,{a:"A component attribute",children:v("p",{children:"A component child"})}),v("div",{children:v("p",{children:"Hello world"})})]})]}));
//# sourceMappingURL=index.min.js.map
