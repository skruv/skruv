var j=Symbol.for("skruvDom"),h="data-skruv-key",M="http://www.w3.org/1999/xhtml",K="http://www.w3.org/2000/svg",O="http://www.w3.org/1998/Math/MathML",g=new WeakMap,c=new WeakMap,E=new WeakMap,L={},S=(e,t=globalThis.document.documentElement,a=t.parentNode,m=M,A=!1)=>{var p,v,y,C,k,n;if(!a)throw new Error("No parent to render to");if(typeof e=="boolean"){t&&a.removeChild(t);return}let w=typeof e=="string"||typeof e=="number";if(A||!t||w&&t.nodeName!=="#text"||!w&&t.nodeName.toLowerCase()!==e.t.toLowerCase()){let i=t;if(w?t=document.createTextNode(""+e):(e.t==="svg"&&(m=K),e.t==="math"&&(m=O),t=(L[e.t]||(L[e.t]=document.createElementNS(m,e.t))).cloneNode(!1)),i?a.replaceChild(t,i):a.appendChild(t),w)return}if(w){t.textContent!=e&&(t.textContent=""+e);return}e.r&&(e.r=()=>!t||!a.contains(t)?!1:(S(e,t,a,m),!0)),e.t==="foreignObject"&&(m=M);let s=e.c.flat(1/0),l={};if(((p=s[0])==null?void 0:p.constructor)===Object&&((v=s[0])==null?void 0:v.s)!==j){l=s[0],s=s.slice(1);for(let i in l)if(i!==h)if(i[0]==="o"&&i[1]==="n"){let f=E.get(t);f||(f={},E.set(t,f));let o=i.slice(2);if(!f[i]||""+f[i]!=""+l[i]){if(o==="create"){setTimeout(()=>l[i](t),0),f[i]=l[i];continue}f[i]&&t.removeEventListener(o,f[i]),t.addEventListener(o,l[i]),f[i]=l[i]}else l[i]||t.removeEventListener(o,f[i])}else l[i]!==t.getAttribute(i)&&((i==="checked"||i==="selected"||i==="value"||typeof l[i]=="object")&&(t[i]=l[i]),l[i]?t.setAttribute(i,""+l[i]):t.removeAttribute(i))}if(!s.length&&t.childNodes.length){if(l["data-skruv-wait-for-not-empty"])return;t.replaceChildren();return}if(t.childNodes.length>s.length)for(let i=t.childNodes.length-1;i>=s.length;i--)t.removeChild(t.childNodes[i]);for(let i=0;i<s.length;i++){let f=!1,o;if(!!s[i].c&&s[i].constructor===Object)if(o=g.get((y=s[i].c[0])==null?void 0:y[h]),o){if(o!==t.childNodes[i]&&(o===t.childNodes[i+1]?t.removeChild(t.childNodes[i]):t.childNodes[i]&&g.get((n=(k=(C=s[i+1])==null?void 0:C.c)==null?void 0:k[0])==null?void 0:n[h])===t.childNodes[i]?t.insertBefore(o,t.childNodes[i]):t.childNodes[i]?t.replaceChild(o,t.childNodes[i]):t.appendChild(o)),f=s[i].c[0][h]!==c.get(t.childNodes[i]),!f){let b=g.get(t.childNodes[i]);if(b){let d=!0;for(let x in s[i].c[0][h])s[i].c[0][h][x]!==b[x]&&(d=!1);if(d)continue}}}else f=g.has(t.childNodes[i]);S(s[i],t.childNodes[i]||!1,t,m,f)}l[h]&&(g.set(l[h],t),c.set(t,l[h]),g.set(t,{...l[h]}))},T=new Proxy({},{get:(e,t)=>(...a)=>({s:j,t,c:a})});export{T as elementFactory,S as render};
//# sourceMappingURL=index.min.js.map
