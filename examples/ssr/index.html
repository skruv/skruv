<!DOCTYPE html><html lang="en-US" class="skruv-css-scope-1654833168"><head><title>Write todos</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>.skruv-css-scope-1654833168 {color: #f1f1f1; background: #0f0f0f;}.skruv-css-scope-1654833168 body {max-width: 40ch; margin: 0 auto;}.skruv-css-scope-1654833168 form {display: flex; align-items: end;}.skruv-css-scope-1654833168 label {flex: 1;}.skruv-css-scope-1654833168 input {width: 100%;}.skruv-css-scope-1654833168 a {color: #9b9b9b;}</style><link rel="icon" href="/icon.svg" type="image/svg+xml" sizes="any"/><meta name="description" content="Skruv todo-list"/></head><body><main><h1>Write todos</h1><form><label>What do you need to do?<input type="text" name="todo"/></label><button>New!</button></form><ol><li>Write todos <a href="#">x</a></li></ol></main>test<!--test--><script type="module">var E="http://www.w3.org/1999/xhtml",g=new WeakMap,D=new WeakMap,G=new WeakMap,L={},C=(t,e=globalThis.document.documentElement,f=e.parentNode,h=E,l=!1)=>{var a,d,u,p,y,O,x;if(!f)throw new Error("No parent to render to");if(typeof t=="boolean"){e&&f.removeChild(e);return}let o=typeof t=="string"||typeof t=="number";if(l||!e||o&&e.nodeName!=="#text"||!o&&e.nodeName.toLowerCase()!==t.t.toLowerCase()){let s=e;if(o?e=document.createTextNode(""+t):(t.t==="svg"&&(h="http://www.w3.org/2000/svg"),t.t==="math"&&(h="http://www.w3.org/1998/Math/MathML"),t.t==="feed"&&(h="http://www.w3.org/2005/Atom"),(t.t==="urlset"||t.t==="sitemapindex")&&(h="https://www.sitemaps.org/schemas/sitemap/0.9"),e=(L[t.t]||(L[t.t]=document.createElementNS(h,t.t))).cloneNode(!1)),s?f.replaceChild(e,s):f.appendChild(e),o)return}if(o){e.textContent!=t&&(e.textContent=""+t);return}t.r&&(t.r=()=>!e||!f.contains(e)?!1:(C(t,e,f,h),!0)),t.t==="foreignObject"&&(h=E);let r=t.c.flat(1/0);globalThis!=null&&globalThis.isSkruvSSR||(r=r.filter(s=>{var i;return((i=s==null?void 0:s.t)==null?void 0:i[0])!=="#"}));let c={};if(((a=r[0])==null?void 0:a.constructor)===Object&&!((d=r[0])!=null&&d.isSkruvDom)){c=r[0],r=r.slice(1);let s=G.get(e);s||(s={},G.set(e,s));for(let[i,n]of Object.entries(c))if(""+s[i]!=""+n&&i!=="data-skruv-key"){if(i==="data-skruv-after-create"){setTimeout(()=>n(e),0),s[i]=n;continue}if(i[0]==="o"&&i[1]==="n"){let m=i.slice(2);s[i]?n||e.removeEventListener(m,n):(s[i]&&e.removeEventListener(m,n),e.addEventListener(m,n)),s[i]=n;continue}(i==="checked"||i==="selected"||i==="value"||e.nodeName.includes("-"))&&(e[i]=n),n!==void 0?e.setAttribute(i,""+n):e.removeAttribute(i),s[i]=n}}for(let s of e.getAttributeNames().filter(i=>!Object.keys(c).includes(i)))e.removeAttribute(s);if(!r.length&&e.childNodes.length){if(c["data-skruv-wait-for-not-empty"])return;e.replaceChildren();return}if(e.childNodes.length>r.length)for(let s=e.childNodes.length-1;s>=r.length;s--)e.removeChild(e.childNodes[s]);for(let s=0;s<r.length;s++){let i=!1,n;if((u=r[s])!=null&&u.c)if(n=g.get((p=r[s].c[0])==null?void 0:p["data-skruv-key"]),n){if(n!==e.childNodes[s]&&(n===e.childNodes[s+1]?e.removeChild(e.childNodes[s]):e.childNodes[s]&&g.get((x=(O=(y=r[s+1])==null?void 0:y.c)==null?void 0:O[0])==null?void 0:x["data-skruv-key"])===e.childNodes[s]?e.insertBefore(n,e.childNodes[s]):e.childNodes[s]?e.replaceChild(n,e.childNodes[s]):e.appendChild(n)),i=r[s].c[0]["data-skruv-key"]!==D.get(e.childNodes[s]),!i){let m=g.get(e.childNodes[s]);if(m){let j=!0;for(let w in r[s].c[0]["data-skruv-key"])r[s].c[0]["data-skruv-key"][w]!==m[w]&&(j=!1);if(j)continue}}}else i=g.has(e.childNodes[s]);C(r[s],e.childNodes[s]||!1,e,h,i)}c["data-skruv-key"]&&(g.set(c["data-skruv-key"],e),D.set(e,c["data-skruv-key"]),g.set(e,{...c["data-skruv-key"]}))},F=new Proxy({},{get:(t,e)=>(...f)=>({isSkruvDom:!0,t:e,c:f})});var A=()=>{},W=new Promise(t=>{A=t}),T=new Map,B=t=>{let e=0;if(t.length===0)return e.toString();for(let f=0;f<t.length;f++)e=(e<<5)-e+t.charCodeAt(f),e|=0;return e.toString()},z=(t,...e)=>{var x;let f=t.reduce((s,i,n)=>{var m;return s.push(i),s.push(((m=e==null?void 0:e[n])==null?void 0:m.toString())||""),s},[]).join(""),h=/^\[.*?(?:(["'])(?:.|\\\1)*\1.*)*\]/,l=/([([,]|:scope\b)/,o=/^:scope\b/;function r(s,i){let n=s.search(l);if(n===-1)return{selector:`${i} ${s}`,rest:""};if(s[n]===",")return{selector:`${i} ${s.substring(0,n)}`,rest:s.substring(n+1)};let m=!0,j=!1;n=s.search(/\S/);let w=0;t:for(;n<s.length;++n){let M=s[n];switch(M){case"[":{let $=h.exec(s.substring(n));n+=($?$[0].length:1)-1;continue}case"(":++w;continue;case":":if(m)if(o.test(s.substring(n))){if(w)return null}else continue;else continue;s=s.substring(0,n)+i+s.substring(n+6),n+=i.length,j=!0,--n;continue;case")":w&&--w;continue}if(!w)switch(M){case",":break t;case" ":case">":case"~":case"+":if(!m)continue;m=!1}}return{selector:(j?"":`${i} `)+s.substring(0,n),rest:s.substring(n+1)}}function c(s,i){let n=[];for(;s;){let m=r(s,i);if(m===null)return":not(*)";n.push(m.selector),s=m.rest}return n.join(", ")}function a(s,i){if(s instanceof CSSMediaRule){let n=s.cssRules.length;for(let m=0;m<n;++m)a(s.cssRules[m],i);return}s instanceof CSSStyleRule&&(s.selectorText=c(s.selectorText,i))}let d=B(f),u=`skruv-css-scope-${d}`,p=`.${u}`;if(T.has(d))return u;let y;if(!(globalThis!=null&&globalThis.CSSOM)&&!((x=globalThis.document)!=null&&x.implementation))throw new Error("No css parser available. Either add CSSOM to globalThis or run in browser.");if(globalThis!=null&&globalThis.CSSOM)y=CSSOM.parse(f);else{let s=globalThis.document.implementation.createHTMLDocument(""),i=s.createElementNS("http://www.w3.org/1999/xhtml","style");i.innerText=f,s.body.append(i),y=i.sheet,s.body.removeChild(i)}Array.from((y==null?void 0:y.cssRules)||[]).forEach(s=>a(s,p));let O=Array.from((y==null?void 0:y.cssRules)||[]).map(s=>s.cssText||"").join("");return T.set(d,O),A(),u};async function*I(){for(yield Array.from(T.values()).join("");;)await W,yield Array.from(T.values()).join(""),W=new Promise(t=>{A=t})}var V=t=>{let e=class R{constructor(){this._scheduled=!1,this._skruv_promise=new Promise(l=>{this._skruv_resolve=l})}_resolve(){this._skruv_parent&&this._skruv_parent._resolve&&this._skruv_parent._resolve(),!this._scheduled&&(this._scheduled=!0,setTimeout(()=>{this._skruv_resolve(""),this._skruv_promise=new Promise(l=>{this._skruv_resolve=l}),this._scheduled=!1},0))}set(l,o,r){return o==="_skruv_parent"?(this._skruv_parent=r,!0):(l[o]!==r&&(l[o]=this.recurse(o,r,l)),!0)}get(l,o,r){return o==="getGenerator"?c=>({key:[c,l],[Symbol.asyncIterator]:()=>{let a=!1;return{next:async()=>(a?await this._skruv_promise:a=!0,{done:!1,value:r[c]})}}}):o==="toJSON"?l.constructor===Object?Object.getOwnPropertyNames(l).reduce((c,a)=>{var d;return c[a]=((d=l[a])==null?void 0:d.toJSON)||l[a],c},{}):l.constructor===Array?l.map(c=>(c==null?void 0:c.toJSON)||c):l:o===Symbol.asyncIterator?()=>{let c=!1;return{next:async()=>(c?await this._skruv_promise:c=!0,{done:!1,value:r})}}:l[o]}deleteProperty(l,o){let r=delete l[o];return this._resolve(),r}recurse(l,o,r){var c;if(o&&o.constructor)if(o.constructor===Object&&((c=r==null?void 0:r[l])==null?void 0:c.constructor)===Object){for(let a of Object.getOwnPropertyNames(o))r[l][a]!==o[a]&&(r[l][a]=o[a]);for(let a of Object.getOwnPropertyNames(r[l]).filter(d=>!Object.getOwnPropertyNames(o).includes(d)))delete r[l][a],this._resolve();return r[l]}else if(o.constructor===Object){let a=new R;o=Object.keys(o).reduce((d,u)=>(d[u]=this.recurse(`${l}.${u}`,o[u]),typeof d[u]=="object"&&d[u]!==null&&(d[u]._skruv_parent=a),d),{}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else if(o.constructor===Array){let a=new R;o=o.map((d,u)=>{let p=this.recurse(`${l}[${u}]`,d);return typeof p=="object"&&p!==null&&(p._skruv_parent=a),p}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return o}},f=new Proxy(t.constructor===Array?[]:{},new e("root"));return Object.assign(f,t),f};var b=!0,S=new WeakMap,P=()=>{},J=new Promise(t=>{P=()=>{b=!1,setTimeout(()=>t(""),0)}}),k=new Set,H=(t,e,f,h,l)=>{var o,r;return b&&!(typeof l=="object"&&"c"in l&&((r=(o=l==null?void 0:l.c)==null?void 0:o[0])==null?void 0:r["data-skruv-finished"])===!1)&&(k.delete(t),k.size||P()),S.set(t,l),f[e]=l,h.r?h.r():!0},_=(t,e=null,f=null,h=null,l=!0)=>{if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||t===null)return t;if(S.has(t))return S.get(t);if(e&&f&&h){if(typeof t=="object"&&Symbol.asyncIterator in t||typeof t=="function"&&t.constructor.name==="AsyncGeneratorFunction")return b&&k.add(t),S.set(t,null),(async()=>{for await(let o of typeof t=="function"?t():t)if(!H(t,e,f,h,_(o,e,f,h,!1)))break})(),null;if(typeof t=="object"&&"then"in t&&typeof t.then=="function"||typeof t=="function"&&t.constructor.name==="AsyncFunction")return b&&k.add(t),S.set(t,null),(async()=>H(t,e,f,h,_(await(typeof t=="function"?t():t),e,f,h,!1)))(),null;if(typeof t=="function"){if(e[0]==="o"&&e[1]==="n"||e==="r"&&(f==null?void 0:f.isSkruvDom)===!0||e==="data-skruv-after-create")return t;let o=_(t(),e,f,h,!1);return S.set(t,o),o}}if(typeof t=="object"){let o={},r=o;t.isSkruvDom===!0?o.r=()=>((b&&!k.size||!b)&&P(),!0):h!=null&&h.r&&(r=h),Array.isArray(t)&&(o=[]);for(let c in t){let a=_(t[c],c,o,r,!1);(a!==null||t[c]===null)&&(o[c]=a)}return(l&&b&&!k.size||!b)&&P(),o}return t};var{html:U,head:Q,title:X,meta:K,link:Y,body:Z,main:N,h1:tt,form:et,label:st,input:ot,button:it,ol:nt,li:rt,a:lt,style:ft,script:ct,"#raw":at,"#comment":ht,"#meta":mt}=F,v=V({todos:["Write todos"]}),dt=z`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex;align-items:end}label{flex:1}input{width:100%}a{color:#9b9b9b}`,ut=_(U({lang:"en-US",class:dt},Q(X(v.todos.getGenerator(0)),K({name:"viewport",content:"width=device-width, initial-scale=1"}),ft(I),Y({rel:"icon",href:"/icon.svg",type:"image/svg+xml",sizes:"any"}),K({name:"description",content:"Skruv todo-list"})),Z(N(tt(v.todos.getGenerator(0)),et({onsubmit:t=>{var f;t.preventDefault();let e=(f=new FormData(t.currentTarget).get("todo"))==null?void 0:f.toString();e&&v.todos.unshift(e),t.currentTarget.reset()}},st("What do you need to do?",ot({type:"text",name:"todo"})),it("New!")),async function*(){for await(let t of v)yield nt(t.todos.map((e,f)=>rt(`${e} `,lt({href:"#",onclick:h=>{h.preventDefault(),t.todos.splice(f,1)}},"x"))))}),at("test"),ht("test"),mt({"http-equiv":"x-test",content:"test"}),!!globalThis.skruvSSRScript&&ct({type:"module"},globalThis.skruvSSRScript)))),q=async()=>{await J,C(ut),await new Promise(t=>setTimeout(t,0))};q();var jt=q;export{jt as default};
//# sourceMappingURL=index.min.js.map
</script></body></html>