var C=Symbol.for("skruvDom"),h="data-skruv-key",m=new WeakMap,n=new WeakMap,A=new WeakMap,y={},K=(s,i=globalThis.document.documentElement,o=i.parentNode,g=!1,W=!1)=>{var v,k,w,b,x,E,_,L;if(!o)throw new Error("No parent to render to");if(typeof s=="boolean"){i&&o.removeChild(i);return}let p=typeof s=="string"||typeof s=="number";if(W||!i||p&&(i==null?void 0:i.nodeName)!=="#text"||!p&&(i==null?void 0:i.nodeName.toLowerCase())!==s.t.toLowerCase()){let l=i;if(p?i=document.createTextNode(""+s):g||s.t==="svg"?(g=!0,i=(y[s.t]||(y[s.t]=document.createElementNS("http://www.w3.org/2000/svg",s.t))).cloneNode(!1)):i=(y[s.t]||(y[s.t]=document.createElement(s.t))).cloneNode(!1),l?o.replaceChild(i,l):o.appendChild(i),p)return;(v=s.c[0])!=null&&v.oncreate&&((k=s==null?void 0:s.c[0])==null||k.oncreate(i))}if(p){i.textContent!=s&&(i.textContent=""+s);return}s._r&&(s._r._r=()=>!i||!o.contains(i)?!1:(K(s,i,o,g),!0));let e=s.c.flat(1/0),t={};if(((w=e[0])==null?void 0:w.constructor)===Object&&((b=e[0])==null?void 0:b.s)!==C){t=e[0],e=e.slice(1);for(let l in t)if(!(l===h||l[0]==="_"))if(l[0]==="o"&&l[1]==="n"){let f=A.get(i);f||(f={},A.set(i,f));let a=l.slice(2);!f[l]||""+f[l]!=""+t[l]?(f[l]&&i.removeEventListener(a,f[l]),i.addEventListener(a,t[l]),f[l]=t[l]):t[l]||i.removeEventListener(a,f[l])}else t[l]!==i.getAttribute(l)&&((l==="checked"||l==="selected"||l==="value"||typeof t[l]=="object")&&(i[l]=t[l]),t[l]?i.setAttribute(l,""+t[l]):i.removeAttribute(l))}if(!e.length&&i.childNodes.length){if(t["data-skruv-wait-for-not-empty"])return;i.replaceChildren();return}if(i.childNodes.length>e.length)for(let l=e.length;l<i.childNodes.length;l++)i.removeChild(i.childNodes[l]);for(let l=0;l<e.length;l++){let f=!1,a;if(e[l].constructor===Object)if(a=m.get((x=e[l].c[0])==null?void 0:x[h]),a){if(a!==i.childNodes[l]&&(a===i.childNodes[l+1]?i.removeChild(i.childNodes[l]):m.get((L=(_=(E=e[l+1])==null?void 0:E.c)==null?void 0:_[0])==null?void 0:L[h])===i.childNodes[l]?i.insertBefore(a,i.childNodes[l]):i.childNodes[l]?i.replaceChild(a,i.childNodes[l]):i.appendChild(a)),f=e[l].c[0][h]!==n.get(i.childNodes[l]),!f){let M=m.get(i.childNodes[l]);if(M){let d=!0;for(let j in e[l].c[0][h])e[l].c[0][h][j]!==M[j]&&(d=!1);if(d)continue}}}else f=m.has(i.childNodes[l]);K(e[l],i.childNodes[l]||!1,i,g,f)}t[h]&&(m.set(t[h],i),n.set(i,t[h]),m.set(i,{...t[h]}))},F=new Proxy({},{get:(s,i)=>(...o)=>({s:C,t:i,c:o})}),O=(s,...i)=>({s:C,t:s,c:i});export{F as elementFactory,O as h,K as render};
//# sourceMappingURL=index.min.js.map
