<!DOCTYPE html><html lang="en-US" class="skruv-css-scope-1654833168"><head><title>Write todos</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>.skruv-css-scope-1654833168 {color: #f1f1f1; background: #0f0f0f;}.skruv-css-scope-1654833168 body {max-width: 40ch; margin: 0 auto;}.skruv-css-scope-1654833168 form {display: flex; align-items: end;}.skruv-css-scope-1654833168 label {flex: 1;}.skruv-css-scope-1654833168 input {width: 100%;}.skruv-css-scope-1654833168 a {color: #9b9b9b;}</style><link rel="icon" href="/icon.svg" type="image/svg+xml" sizes="any"/><meta name="description" content="Skruv todo-list"/></head><body><main><h1>Write todos</h1><form><label>What do you need to do?<input type="text" name="todo"/></label><button>New!</button></form><ol><li>Write todos <a href="#">x</a></li></ol></main>test<!--test--><script type="module">var E="http://www.w3.org/1999/xhtml",g=new WeakMap,D=new WeakMap,G=new WeakMap,L={},O=(e,t=globalThis.document.documentElement,f=t.parentNode,h=E,l=!1)=>{var a,d,u,p,y,C,x;if(!f)throw new Error("No parent to render to");if(typeof e=="boolean"){t&&f.removeChild(t);return}let o=typeof e=="string"||typeof e=="number";if(l||!t||o&&t.nodeName!=="#text"||!o&&t.nodeName.toLowerCase()!==e.t.toLowerCase()){let s=t;if(o?t=document.createTextNode(""+e):(e.t==="svg"&&(h="http://www.w3.org/2000/svg"),e.t==="math"&&(h="http://www.w3.org/1998/Math/MathML"),e.t==="feed"&&(h="http://www.w3.org/2005/Atom"),(e.t==="urlset"||e.t==="sitemapindex")&&(h="https://www.sitemaps.org/schemas/sitemap/0.9"),t=(L[e.t]||(L[e.t]=document.createElementNS(h,e.t))).cloneNode(!1)),s?f.replaceChild(t,s):f.appendChild(t),o)return}if(o){t.textContent!=e&&(t.textContent=""+e);return}e.r&&(e.r=()=>!t||!f.contains(t)?!1:(O(e,t,f,h),!0)),e.t==="foreignObject"&&(h=E);let r=e.c.flat(1/0);globalThis!=null&&globalThis.isSkruvSSR||(r=r.filter(s=>{var i;return!((i=s==null?void 0:s.t)!=null&&i.startsWith("skruv"))}));let c={};if(((a=r[0])==null?void 0:a.constructor)===Object&&!((d=r[0])!=null&&d.isSkruvDom)){c=r[0],r=r.slice(1);let s=G.get(t);s||(s={},G.set(t,s));for(let[i,n]of Object.entries(c))if(""+s[i]!=""+n&&i!=="data-skruv-key"){if(i==="data-skruv-after-create"){setTimeout(()=>n(t),0),s[i]=n;continue}if(i[0]==="o"&&i[1]==="n"){let m=i.slice(2);s[i]?n||t.removeEventListener(m,n):(s[i]&&t.removeEventListener(m,n),t.addEventListener(m,n)),s[i]=n;continue}(i==="checked"||i==="selected"||i==="value"||t.nodeName.includes("-"))&&(t[i]=n),n!==void 0?t.setAttribute(i,""+n):t.removeAttribute(i),s[i]=n}}for(let s of t.getAttributeNames().filter(i=>!Object.keys(c).includes(i)))t.removeAttribute(s);if(!r.length&&t.childNodes.length){if(c["data-skruv-wait-for-not-empty"])return;t.replaceChildren();return}if(t.childNodes.length>r.length)for(let s=t.childNodes.length-1;s>=r.length;s--)t.removeChild(t.childNodes[s]);for(let s=0;s<r.length;s++){let i=!1,n;if((u=r[s])!=null&&u.c)if(n=g.get((p=r[s].c[0])==null?void 0:p["data-skruv-key"]),n){if(n!==t.childNodes[s]&&(n===t.childNodes[s+1]?t.removeChild(t.childNodes[s]):t.childNodes[s]&&g.get((x=(C=(y=r[s+1])==null?void 0:y.c)==null?void 0:C[0])==null?void 0:x["data-skruv-key"])===t.childNodes[s]?t.insertBefore(n,t.childNodes[s]):t.childNodes[s]?t.replaceChild(n,t.childNodes[s]):t.appendChild(n)),i=r[s].c[0]["data-skruv-key"]!==D.get(t.childNodes[s]),!i){let m=g.get(t.childNodes[s]);if(m){let j=!0;for(let w in r[s].c[0]["data-skruv-key"])r[s].c[0]["data-skruv-key"][w]!==m[w]&&(j=!1);if(j)continue}}}else i=g.has(t.childNodes[s]);O(r[s],t.childNodes[s]||!1,t,h,i)}c["data-skruv-key"]&&(g.set(c["data-skruv-key"],t),D.set(t,c["data-skruv-key"]),g.set(t,{...c["data-skruv-key"]}))},W=new Proxy({},{get:(e,t)=>(...f)=>({isSkruvDom:!0,t,c:f})});var A=()=>{},F=new Promise(e=>{A=e}),v=new Map,U=e=>{let t=0;if(e.length===0)return t.toString();for(let f=0;f<e.length;f++)t=(t<<5)-t+e.charCodeAt(f),t|=0;return t.toString()},z=(e,...t)=>{var x;let f=e.reduce((s,i,n)=>{var m;return s.push(i),s.push(((m=t==null?void 0:t[n])==null?void 0:m.toString())||""),s},[]).join(""),h=/^\[.*?(?:(["'])(?:.|\\\1)*\1.*)*\]/,l=/([([,]|:scope\b)/,o=/^:scope\b/;function r(s,i){let n=s.search(l);if(n===-1)return{selector:`${i} ${s}`,rest:""};if(s[n]===",")return{selector:`${i} ${s.substring(0,n)}`,rest:s.substring(n+1)};let m=!0,j=!1;n=s.search(/\S/);let w=0;t:for(;n<s.length;++n){let R=s[n];switch(R){case"[":{let $=h.exec(s.substring(n));n+=($?$[0].length:1)-1;continue}case"(":++w;continue;case":":if(m)if(o.test(s.substring(n))){if(w)return null}else continue;else continue;s=s.substring(0,n)+i+s.substring(n+6),n+=i.length,j=!0,--n;continue;case")":w&&--w;continue}if(!w)switch(R){case",":break t;case" ":case">":case"~":case"+":if(!m)continue;m=!1}}return{selector:(j?"":`${i} `)+s.substring(0,n),rest:s.substring(n+1)}}function c(s,i){let n=[];for(;s;){let m=r(s,i);if(m===null)return":not(*)";n.push(m.selector),s=m.rest}return n.join(", ")}function a(s,i){if(s instanceof CSSMediaRule){let n=s.cssRules.length;for(let m=0;m<n;++m)a(s.cssRules[m],i);return}s instanceof CSSStyleRule&&(s.selectorText=c(s.selectorText,i))}let d=U(f),u=`skruv-css-scope-${d}`,p=`.${u}`;if(v.has(d))return u;let y;if(!(globalThis!=null&&globalThis.CSSOM)&&!((x=globalThis.document)!=null&&x.implementation))throw new Error("No css parser available. Either add CSSOM to globalThis or run in browser.");if(globalThis!=null&&globalThis.CSSOM)y=CSSOM.parse(f);else{let s=globalThis.document.implementation.createHTMLDocument(""),i=s.createElementNS("http://www.w3.org/1999/xhtml","style");i.innerText=f,s.body.append(i),y=i.sheet,s.body.removeChild(i)}Array.from((y==null?void 0:y.cssRules)||[]).forEach(s=>a(s,p));let C=Array.from((y==null?void 0:y.cssRules)||[]).map(s=>s.cssText||"").join("");return v.set(d,C),A(),u};async function*H(){for(yield Array.from(v.values()).join("");;)await F,yield Array.from(v.values()).join(""),F=new Promise(e=>{A=e})}var I=e=>{let t=class M{constructor(){this._skruv_promise=new Promise(l=>{this._skruv_resolve=l})}_resolve(){this._skruv_parent&&this._skruv_parent._resolve&&this._skruv_parent._resolve(),this._skruv_resolve(""),this._skruv_promise=new Promise(l=>{this._skruv_resolve=l})}set(l,o,r){return o==="_skruv_parent"?(this._skruv_parent=r,!0):(l[o]!==r&&(l[o]=this.recurse(o,r,l)),!0)}get(l,o,r){return o==="getGenerator"?c=>({key:[c,l],[Symbol.asyncIterator]:()=>{let a=!1;return{next:async()=>(a?await this._skruv_promise:a=!0,{done:!1,value:r[c]})}}}):o==="toJSON"?l.constructor===Object?Object.getOwnPropertyNames(l).reduce((c,a)=>{var d;return c[a]=((d=l[a])==null?void 0:d.toJSON)||l[a],c},{}):l.constructor===Array?l.map(c=>(c==null?void 0:c.toJSON)||c):l:o===Symbol.asyncIterator?()=>{let c=!1;return{next:async()=>(c?await this._skruv_promise:c=!0,{done:!1,value:r})}}:l[o]}deleteProperty(l,o){let r=delete l[o];return this._resolve(),r}recurse(l,o,r){var c;if(o&&o.constructor)if(o.constructor===Object&&((c=r==null?void 0:r[l])==null?void 0:c.constructor)===Object){for(let a of Object.getOwnPropertyNames(o))r[l][a]!==o[a]&&(r[l][a]=o[a]);for(let a of Object.getOwnPropertyNames(r[l]).filter(d=>!Object.getOwnPropertyNames(o).includes(d)))delete r[l][a],this._resolve();return r[l]}else if(o.constructor===Object){let a=new M;o=Object.keys(o).reduce((d,u)=>(d[u]=this.recurse(`${l}.${u}`,o[u]),typeof d[u]=="object"&&d[u]!==null&&(d[u]._skruv_parent=a),d),{}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else if(o.constructor===Array){let a=new M;o=o.map((d,u)=>{let p=this.recurse(`${l}[${u}]`,d);return typeof p=="object"&&p!==null&&(p._skruv_parent=a),p}),o=new Proxy(o,a),o._skruv_parent=this,this._resolve()}else this._resolve();else this._resolve();return o}},f=new Proxy(e.constructor===Array?[]:{},new t("root"));return Object.assign(f,e),f};var b=!0,S=new WeakMap,T=()=>{},J=new Promise(e=>{T=()=>{b=!1,setTimeout(()=>e(""),0)}}),k=new Set,V=(e,t,f,h,l)=>{var o,r;return b&&!(typeof l=="object"&&"c"in l&&((r=(o=l==null?void 0:l.c)==null?void 0:o[0])==null?void 0:r["data-skruv-finished"])===!1)&&(k.delete(e),k.size||T()),S.set(e,l),f[t]=l,h.r?h.r():!0},_=(e,t=null,f=null,h=null,l=!0)=>{if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null)return e;if(S.has(e))return S.get(e);if(t&&f&&h){if(typeof e=="object"&&Symbol.asyncIterator in e||typeof e=="function"&&e.constructor.name==="AsyncGeneratorFunction")return b&&k.add(e),S.set(e,null),(async()=>{for await(let o of typeof e=="function"?e():e)if(!V(e,t,f,h,_(o,t,f,h,!1)))break})(),null;if(typeof e=="object"&&"then"in e&&typeof e.then=="function"||typeof e=="function"&&e.constructor.name==="AsyncFunction")return b&&k.add(e),S.set(e,null),(async()=>V(e,t,f,h,_(await(typeof e=="function"?e():e),t,f,h,!1)))(),null;if(typeof e=="function"){if(t[0]==="o"&&t[1]==="n"||t==="r"&&(f==null?void 0:f.isSkruvDom)===!0||t==="data-skruv-after-create")return e;let o=_(e(),t,f,h,!1);return S.set(e,o),o}}if(typeof e=="object"){let o={},r=o;e.isSkruvDom===!0?o.r=()=>((b&&!k.size||!b)&&T(),!0):h!=null&&h.r&&(r=h),Array.isArray(e)&&(o=[]);for(let c in e){let a=_(e[c],c,o,r,!1);(a!==null||e[c]===null)&&(o[c]=a)}return(l&&b&&!k.size||!b)&&T(),o}return e};var{html:q,head:Q,title:X,meta:K,link:Y,body:Z,main:N,h1:tt,form:et,label:st,input:ot,button:it,ol:nt,li:rt,a:lt,style:ft,script:ct,skruvText:at,skruvComment:ht,skruvHeader:mt}=W,P=I({todos:["Write todos"]}),dt=z`:scope{color:#f1f1f1;background:#0f0f0f}body{max-width:40ch;margin:0 auto}form{display:flex;align-items:end}label{flex:1}input{width:100%}a{color:#9b9b9b}`,ut=_(q({lang:"en-US",class:dt},Q(X(P.todos.getGenerator(0)),K({name:"viewport",content:"width=device-width, initial-scale=1"}),ft(H),Y({rel:"icon",href:"/icon.svg",type:"image/svg+xml",sizes:"any"}),K({name:"description",content:"Skruv todo-list"})),Z(N(tt(P.todos.getGenerator(0)),et({onsubmit:e=>{var f;e.preventDefault();let t=(f=new FormData(e.currentTarget).get("todo"))==null?void 0:f.toString();t&&P.todos.unshift(t),e.currentTarget.reset()}},st("What do you need to do?",ot({type:"text",name:"todo"})),it("New!")),async function*(){for await(let e of P)yield nt(e.todos.map((t,f)=>rt(`${t} `,lt({href:"#",onclick:h=>{h.preventDefault(),e.todos.splice(f,1)}},"x"))))}),at("test"),ht("test"),mt({name:"x-test",value:"test"}),!!globalThis.skruvSSRScript&&ct({type:"module"},globalThis.skruvSSRScript)))),B=async()=>{await J,O(ut)};B();var jt=B;export{jt as default};
//# sourceMappingURL=index.min.js.map
</script></body></html>